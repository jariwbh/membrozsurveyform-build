!function(){function e(t,i,n){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(i):a.value}})(t,i,n||t)}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=o(e);if(t){var r=o(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(l)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&d(e.prototype,t),i&&d(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{tVUk:function(i,a,c){"use strict";c.r(a),c.d(a,"DocumentModuleModule",(function(){return Le}));var d,f,u=c("tyNb"),m=c("ofXK"),h=c("3Pt+"),p=c("mrSG"),v=c("lYtk"),g=c("fXoL"),y=c("+Yhq"),b=c("K9UI"),w=c("t34c"),x=c("7pIB"),k=c("3nuN"),_=c("kmnG"),P=c("qFsG"),D=c("MutI"),S=c("QibW"),C=c("/1cH"),F=c("FKr1"),O=c("iadO"),I=c("z17N"),E=c("d3UM"),M=c("Yadw"),A=c("bTqV"),V=function(){function e(t,i,n){l(this,e),this.x=t,this.y=i,this.time=n||Date.now()}return s(e,[{key:"distanceTo",value:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time}},{key:"velocityFrom",value:function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}]),e}(),N=function(){function e(t,i,n,a,o,r){l(this,e),this.startPoint=t,this.control2=i,this.control1=n,this.endPoint=a,this.startWidth=o,this.endWidth=r}return s(e,[{key:"length",value:function(){for(var e,t,i=0,n=0;n<=10;n+=1){var a=n/10,o=this.point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this.point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){var c=o-e,l=r-t;i+=Math.sqrt(c*c+l*l)}e=o,t=r}return i}},{key:"point",value:function(e,t,i,n,a){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*n*(1-e)*e*e+a*e*e*e}}],[{key:"fromPoints",value:function(t,i){var n=this.calculateControlPoints(t[0],t[1],t[2]).c2,a=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new e(t[1],n,a,t[2],i.start,i.end)}},{key:"calculateControlPoints",value:function(e,t,i){var n=e.x-t.x,a=e.y-t.y,o=t.x-i.x,r=t.y-i.y,c=(e.x+t.x)/2,l=(e.y+t.y)/2,d=(t.x+i.x)/2,s=(t.y+i.y)/2,f=Math.sqrt(n*n+a*a),u=Math.sqrt(o*o+r*r),m=u/(f+u),h=t.x-(d+(c-d)*m),p=t.y-(s+(l-s)*m);return{c1:new V(c+h,l+p),c2:new V(d+h,s+p)}}}]),e}(),T=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.canvas=t,this.options=n,this._handleMouseDown=function(e){1===e.which&&(i._mouseButtonDown=!0,i._strokeBegin(e))},this._handleMouseMove=function(e){i._mouseButtonDown&&i._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&i._mouseButtonDown&&(i._mouseButtonDown=!1,i._strokeEnd(e))},this._handleTouchStart=function(e){e.preventDefault(),1===e.targetTouches.length&&i._strokeBegin(e.changedTouches[0])},this._handleTouchMove=function(e){e.preventDefault(),i._strokeMoveUpdate(e.targetTouches[0])},this._handleTouchEnd=function(e){e.target===i.canvas&&(e.preventDefault(),i._strokeEnd(e.changedTouches[0]))},this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._strokeMoveUpdate=this.throttle?function(e){var t,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,o=0,r=null,c=function(){o=Date.now(),r=null,t=e.apply(i,n),r||(i=null,n=[])};return function(){for(var l=Date.now(),d=a-(l-o),s=arguments.length,f=new Array(s),u=0;u<s;u++)f[u]=arguments[u];return i=this,n=f,d<=0||d>a?(r&&(clearTimeout(r),r=null),o=l,t=e.apply(i,n),r||(i=null,n=[])):r||(r=window.setTimeout(c,d)),t}}(e.prototype._strokeUpdate,this.throttle):e.prototype._strokeUpdate,this._ctx=t.getContext("2d"),this.clear(),this.on()}return s(e,[{key:"clear",value:function(){var e=this._ctx,t=this.canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}},{key:"fromDataURL",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=new Image,o=i.ratio||window.devicePixelRatio||1,r=i.width||this.canvas.width/o,c=i.height||this.canvas.height/o;this._reset(),a.onload=function(){t._ctx.drawImage(a,0,0,r,c),n&&n()},a.onerror=function(e){n&&n(e)},a.src=e,this._isEmpty=!1}},{key:"toDataURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",t=arguments.length>1?arguments[1]:void 0;switch(e){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(e,t)}}},{key:"on",value:function(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}},{key:"off",value:function(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}},{key:"isEmpty",value:function(){return this._isEmpty}},{key:"fromData",value:function(e){var t=this;this.clear(),this._fromData(e,(function(e){var i=e.color,n=e.curve;return t._drawCurve({color:i,curve:n})}),(function(e){var i=e.color,n=e.point;return t._drawDot({color:i,point:n})})),this._data=e}},{key:"toData",value:function(){return this._data}},{key:"_strokeBegin",value:function(e){var t={color:this.penColor,points:[]};"function"==typeof this.onBegin&&this.onBegin(e),this._data.push(t),this._reset(),this._strokeUpdate(e)}},{key:"_strokeUpdate",value:function(e){if(0!==this._data.length){var t=this._createPoint(e.clientX,e.clientY),i=this._data[this._data.length-1],n=i.points,a=n.length>0&&n[n.length-1],o=!!a&&t.distanceTo(a)<=this.minDistance,r=i.color;if(!a||!a||!o){var c=this._addPoint(t);a?c&&this._drawCurve({color:r,curve:c}):this._drawDot({color:r,point:t}),n.push({time:t.time,x:t.x,y:t.y})}}else this._strokeBegin(e)}},{key:"_strokeEnd",value:function(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)}},{key:"_handlePointerEvents",value:function(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}},{key:"_handleMouseEvents",value:function(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}},{key:"_handleTouchEvents",value:function(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}},{key:"_reset",value:function(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}},{key:"_createPoint",value:function(e,t){var i=this.canvas.getBoundingClientRect();return new V(e-i.left,t-i.top,(new Date).getTime())}},{key:"_addPoint",value:function(e){var t=this._lastPoints;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var i=this._calculateCurveWidths(t[1],t[2]),n=N.fromPoints(t,i);return t.shift(),n}return null}},{key:"_calculateCurveWidths",value:function(e,t){var i=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(i),a={end:n,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=n,a}},{key:"_strokeWidth",value:function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}},{key:"_drawCurveSegment",value:function(e,t,i){var n=this._ctx;n.moveTo(e,t),n.arc(e,t,i,0,2*Math.PI,!1),this._isEmpty=!1}},{key:"_drawCurve",value:function(e){var t=e.color,i=e.curve,n=this._ctx,a=i.endWidth-i.startWidth,o=2*Math.floor(i.length());n.beginPath(),n.fillStyle=t;for(var r=0;r<o;r+=1){var c=r/o,l=c*c,d=l*c,s=1-c,f=s*s,u=f*s,m=u*i.startPoint.x;m+=3*f*c*i.control1.x,m+=3*s*l*i.control2.x,m+=d*i.endPoint.x;var h=u*i.startPoint.y;h+=3*f*c*i.control1.y,h+=3*s*l*i.control2.y,h+=d*i.endPoint.y;var p=Math.min(i.startWidth+d*a,this.maxWidth);this._drawCurveSegment(m,h,p)}n.closePath(),n.fill()}},{key:"_drawDot",value:function(e){var t=e.color,i=e.point,n=this._ctx,a="function"==typeof this.dotSize?this.dotSize():this.dotSize;n.beginPath(),this._drawCurveSegment(i.x,i.y,a),n.closePath(),n.fillStyle=t,n.fill()}},{key:"_fromData",value:function(e,t,i){var n,a=r(e);try{for(a.s();!(n=a.n()).done;){var o=n.value,c=o.color,l=o.points;if(l.length>1)for(var d=0;d<l.length;d+=1){var s=l[d],f=new V(s.x,s.y,s.time);this.penColor=c,0===d&&this._reset();var u=this._addPoint(f);u&&t({color:c,curve:u})}else this._reset(),i({color:c,point:l[0]})}}catch(m){a.e(m)}finally{a.f()}}},{key:"_toSVG",value:function(){var e=this,t=this._data,i=Math.max(window.devicePixelRatio||1,1),n=this.canvas.width/i,a=this.canvas.height/i,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",this.canvas.width.toString()),o.setAttribute("height",this.canvas.height.toString()),this._fromData(t,(function(e){var t=e.color,i=e.curve,n=document.createElement("path");if(!(isNaN(i.control1.x)||isNaN(i.control1.y)||isNaN(i.control2.x)||isNaN(i.control2.y))){var a="M ".concat(i.startPoint.x.toFixed(3),",").concat(i.startPoint.y.toFixed(3)," C ").concat(i.control1.x.toFixed(3),",").concat(i.control1.y.toFixed(3)," ").concat(i.control2.x.toFixed(3),",").concat(i.control2.y.toFixed(3)," ").concat(i.endPoint.x.toFixed(3),",").concat(i.endPoint.y.toFixed(3));n.setAttribute("d",a),n.setAttribute("stroke-width",(2.25*i.endWidth).toFixed(3)),n.setAttribute("stroke",t),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),o.appendChild(n)}}),(function(t){var i=t.color,n=t.point,a=document.createElement("circle"),r="function"==typeof e.dotSize?e.dotSize():e.dotSize;a.setAttribute("r",r.toString()),a.setAttribute("cx",n.x.toString()),a.setAttribute("cy",n.y.toString()),a.setAttribute("fill",i),o.appendChild(a)}));var r='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '.concat(n," ").concat(a,'" width="').concat(n,'" height="').concat(a,'">'),c=o.innerHTML;if(void 0===c){var l=document.createElement("dummy"),d=o.childNodes;l.innerHTML="";for(var s=0;s<d.length;s+=1)l.appendChild(d[s].cloneNode(!0));c=l.innerHTML}return"data:image/svg+xml;base64,"+btoa(r+c+"</svg>")}}]),e}(),U=["signaturePad"],L=["signaturePadContainer"],R=((f=function(){function e(){l(this,e)}return s(e,[{key:"ngOnChanges",value:function(e){var t=this;e.config.firstChange||Object.keys(e.config.currentValue).map((function(i){t.signaturePad[i]=e.config.currentValue[i]}))}},{key:"ngAfterViewInit",value:function(){this.setCanvasSize(),this.signaturePad=new T(this.signaturePadElement.nativeElement,this.config)}},{key:"setCanvasSize",value:function(){var e=this.signaturePadContainerElement.nativeElement,t=e.offsetWidth,i=e.offsetHeight;this.signaturePadElement.nativeElement.width=t,this.signaturePadElement.nativeElement.height=i}},{key:"clear",value:function(){this.signaturePad.clear()}},{key:"fromDataURL",value:function(e,t,i){this.signaturePad.fromDataURL(e,t,i)}},{key:"toDataURL",value:function(e,t){return this.signaturePad.toDataURL(e,t)}},{key:"on",value:function(){this.signaturePad.on()}},{key:"off",value:function(){this.signaturePad.off()}},{key:"isEmpty",value:function(){return!this.signaturePad||this.signaturePad.isEmpty()}},{key:"fromData",value:function(e){this.signaturePad.fromData(e)}},{key:"toData",value:function(){return this.signaturePad.toData()}},{key:"forceUpdate",value:function(){this.setCanvasSize(),this.signaturePad=new T(this.signaturePadElement.nativeElement,this.config)}}]),e}()).\u0275fac=function(e){return new(e||f)},f.\u0275cmp=g.Wb({type:f,selectors:[["ngx-signature-pad"]],viewQuery:function(e,t){var i;1&e&&(g.dd(U,!0),g.dd(L,!0)),2&e&&(g.Kc(i=g.uc())&&(t.signaturePadElement=i.first),g.Kc(i=g.uc())&&(t.signaturePadContainerElement=i.first))},inputs:{config:"config"},features:[g.Nb],decls:4,vars:0,consts:[["signaturePadContainer",""],["signaturePad",""]],template:function(e,t){1&e&&(g.ic(0,"div",null,0),g.dc(2,"canvas",null,1),g.hc())},encapsulation:2}),f),j=((d=function e(){l(this,e)}).\u0275mod=g.ac({type:d}),d.\u0275inj=g.Zb({factory:function(e){return new(e||d)},imports:[[]]}),d),B=["testPadTest"];function W(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-form-field",15),g.dc(2,"input",16),g.hc(),g.fc()),2&e){var i=g.xc(2);g.Pb(2),g.Dc("formControlName",i.formfield.fieldname)}}function X(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-form-field",15),g.dc(2,"input",17),g.hc(),g.ic(3,"mat-form-field",15),g.ic(4,"textarea",18),g.Zc(5," "),g.hc(),g.hc(),g.fc()),2&e){var i=g.xc(2);g.Pb(2),g.Dc("formControlName",i.formfield.fieldname)}}function Z(e,t){if(1&e&&(g.ic(0,"mat-list-option",21),g.Zc(1),g.hc()),2&e){var i=t.$implicit;g.Dc("value",i.key),g.Pb(1),g.bd(" ",i.value," ")}}function z(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-selection-list",19),g.Xc(2,Z,2,2,"mat-list-option",20),g.hc(),g.fc()),2&e){var i=g.xc(2);g.Pb(1),g.Dc("formControlName",i.formfield.fieldname),g.Pb(1),g.Dc("ngForOf",i.formfield.lookupdata)}}function q(e,t){if(1&e&&(g.ic(0,"mat-radio-button",24),g.Zc(1),g.hc()),2&e){var i=t.$implicit;g.Dc("value",i.value),g.Pb(1),g.bd(" ",i.value," ")}}function H(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-radio-group",22),g.Xc(2,q,2,2,"mat-radio-button",23),g.hc(),g.fc()),2&e){var i=g.xc(2);g.Pb(1),g.Dc("formControlName",i.formfield.fieldname),g.Pb(1),g.Dc("ngForOf",i.formfield.lookupdata)}}function G(e,t){if(1&e&&(g.ic(0,"mat-option",28),g.ic(1,"span"),g.Zc(2),g.hc(),g.hc()),2&e){var i=t.$implicit;g.Dc("value",i.value),g.Pb(2),g.ad(i.value)}}function K(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-form-field",15),g.dc(2,"input",25),g.ic(3,"mat-autocomplete",null,26),g.Xc(5,G,3,2,"mat-option",27),g.hc(),g.hc(),g.fc()),2&e){var i=g.Lc(4),n=g.xc(2);g.Pb(2),g.Dc("matAutocomplete",i)("formControlName",n.formfield.fieldname),g.Pb(3),g.Dc("ngForOf",n.formfield.lookupdata)}}function Y(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-form-field"),g.dc(2,"input",29),g.dc(3,"mat-datepicker-toggle",30),g.dc(4,"mat-datepicker",31,32),g.hc(),g.fc()),2&e){var i=g.Lc(5),n=g.xc(2);g.Pb(2),g.Dc("min",n.minDate)("max",n.formfield.maxDate?n.formfield.maxDate:n.maxDate)("matDatepicker",i)("formControlName",n.formfield.fieldname),g.Pb(1),g.Dc("for",i),g.Pb(1),g.Dc("startAt",n.startDate)}}function Q(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-form-field",15),g.dc(2,"input",33),g.dc(3,"owl-date-time",34,35),g.hc(),g.fc()),2&e){var i=g.Lc(4),n=g.xc(2);g.Pb(2),g.Dc("owlDateTimeTrigger",i)("owlDateTime",i)("formControlName",n.formfield.fieldname),g.Pb(1),g.Dc("pickerType","timer")}}function J(e,t){if(1&e&&(g.ic(0,"mat-option",28),g.Zc(1),g.hc()),2&e){var i=t.$implicit;g.Dc("value",i.value),g.Pb(1),g.bd(" ",i.value," ")}}function ee(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-form-field",15),g.ic(2,"mat-select",36),g.ic(3,"mat-option",37),g.Zc(4),g.hc(),g.Xc(5,J,2,2,"mat-option",27),g.hc(),g.hc(),g.fc()),2&e){var i=g.xc(2);g.Pb(2),g.Dc("formControlName",i.formfield.fieldname),g.Pb(2),g.bd("Select ",i.formfield.displayname,""),g.Pb(1),g.Dc("ngForOf",i.formfield.lookupdata)}}function te(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-form-field",15),g.dc(2,"input",16),g.hc(),g.fc()),2&e){var i=g.xc(2);g.Pb(2),g.Dc("formControlName",i.formfield.fieldname)}}function ie(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-form-field",15),g.dc(2,"input",16),g.hc(),g.fc()),2&e){var i=g.xc(2);g.Pb(2),g.Dc("formControlName",i.formfield.fieldname)}}function ne(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-form-field",15),g.dc(2,"input",38),g.hc(),g.fc()),2&e){var i=g.xc(2);g.Pb(2),g.Dc("formControlName",i.formfield.fieldname)}}function ae(e,t){if(1&e&&(g.gc(0),g.ic(1,"mat-form-field",15),g.dc(2,"input",38),g.hc(),g.fc()),2&e){var i=g.xc(2);g.Pb(2),g.Dc("formControlName",i.formfield.fieldname)}}var oe=function(e){return[e]},re=function(e,t){return[e,t]};function ce(e,t){if(1&e&&(g.gc(0),g.dc(1,"ngx-intl-tel-input",39),g.fc()),2&e){var i=g.xc(2);g.Pb(1),g.Dc("inputId","adsasd")("cssClass","custom form-control")("ngClass",i.dynamicForm.get(g.Hc(14,oe,i.formfield.fieldname)).pristine&&!i.dynamicSubmitted||i.dynamicForm.get(g.Hc(16,oe,i.formfield.fieldname)).valid?" ":"error")("preferredCountries",i.preferredCountries)("enableAutoCountrySelect",!1)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",g.Ic(18,re,i.SearchCountryField.Iso2,i.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",i.formfield.value&&i.formfield.value.countryCode?i.formfield.value.countryCode:i.CountryISO.India)("maxLength",15)("phoneValidation",!0)("separateDialCode",i.separateDialCode)("formControlName",i.formfield.fieldname)}}function le(e,t){if(1&e){var i=g.jc();g.gc(0),g.ic(1,"dynamic-autocomplete",40),g.tc("added",(function(e){return g.Oc(i),g.xc(2).onItemAdded(e)})),g.hc(),g.fc()}if(2&e){var n=g.xc(2);g.Pb(1),g.Dc("formControlName",n.formfield.fieldname)("setting",n.formfield)("dbvalue",n.formfield.value)}}function de(e,t){if(1&e){var i=g.jc();g.gc(0),g.ic(1,"dynamic-autocomplete",40),g.tc("added",(function(e){return g.Oc(i),g.xc(2).onItemAdded(e)})),g.hc(),g.fc()}if(2&e){var n=g.xc(2);g.Pb(1),g.Dc("formControlName",n.formfield.fieldname)("setting",n.formfield)("dbvalue",n.formfield.value)}}function se(e,t){if(1&e){var i=g.jc();g.ic(0,"span",50),g.ic(1,"span",51),g.ic(2,"i",52),g.Zc(3,"link"),g.hc(),g.ic(4,"span",53),g.tc("click",(function(){g.Oc(i);var e=t.$implicit;return g.xc(3).downloadlink(e.attachment)})),g.Zc(5),g.hc(),g.hc(),g.ic(6,"i",54),g.tc("click",(function(){g.Oc(i);var e=t.$implicit,n=g.xc(3);return n.removeImg(e,n.formfield.fieldname)})),g.Zc(7,"clear"),g.hc(),g.hc()}if(2&e){var n=t.$implicit;g.Pb(5),g.cd(" ",n.originalfilename,".",n.extension,"")}}function fe(e,t){if(1&e){var i=g.jc();g.gc(0),g.ic(1,"div",41),g.dc(2,"img",42),g.ic(3,"div",43),g.ic(4,"label",44),g.ic(5,"i",13),g.Zc(6,"cloud_upload"),g.hc(),g.Zc(7," Upload "),g.hc(),g.ic(8,"input",45,46),g.tc("change",(function(){return g.Oc(i),g.Lc(9).value=""})),g.hc(),g.dc(10,"input",47),g.hc(),g.ic(11,"div",48),g.Xc(12,se,8,2,"span",49),g.hc(),g.hc(),g.fc()}if(2&e){var n=g.xc(2);g.Pb(2),g.Sb("loading_",n.formfield.fieldname,""),g.Pb(2),g.Fc("for","fileupload_",n.formfield.fieldname,""),g.Pb(4),g.Uc("display","none"),g.Fc("id","fileupload_",n.formfield.fieldname,""),g.Dc("uploader",n.customeUploader[n.formfield.fieldname]),g.Pb(2),g.Dc("id",n.formfield.fieldname)("formControlName",n.formfield.fieldname),g.Pb(2),g.Dc("ngForOf",n.formImageArray[n.formfield.fieldname])}}function ue(e,t){if(1&e){var i=g.jc();g.ic(0,"div",56),g.ic(1,"div",64),g.ic(2,"img",65),g.tc("click",(function(){g.Oc(i);var e=t.$implicit;return g.xc(3).downloadlink(e.attachment)})),g.hc(),g.ic(3,"span",66),g.ic(4,"button",67),g.tc("click",(function(){g.Oc(i);var e=t.$implicit,n=g.xc(3);return n.removeImg(e,n.formfield.fieldname)})),g.ic(5,"i",13),g.Zc(6,"cancel"),g.hc(),g.hc(),g.hc(),g.hc(),g.hc()}if(2&e){var n=t.$implicit;g.Pb(2),g.Dc("src",n.attachment,g.Qc)}}function me(e,t){if(1&e){var i=g.jc();g.gc(0),g.ic(1,"div",41),g.ic(2,"div",55),g.ic(3,"div",56),g.ic(4,"span",57),g.ic(5,"label",58),g.wc(),g.ic(6,"svg",59),g.ic(7,"g",60),g.dc(8,"line",61),g.dc(9,"line",62),g.hc(),g.hc(),g.vc(),g.ic(10,"div",48),g.Zc(11),g.hc(),g.hc(),g.ic(12,"input",45,46),g.tc("change",(function(){return g.Oc(i),g.Lc(13).value=""})),g.hc(),g.dc(14,"input",47),g.hc(),g.dc(15,"img",42),g.hc(),g.Xc(16,ue,7,1,"div",63),g.hc(),g.hc(),g.fc()}if(2&e){var n=g.xc(2);g.Pb(5),g.Fc("for","fileupload_",n.formfield.fieldname,""),g.Pb(6),g.bd(" ",n.getLang("addimage","Add image"),""),g.Pb(1),g.Uc("display","none"),g.Fc("id","fileupload_",n.formfield.fieldname,""),g.Dc("uploader",n.customeUploader[n.formfield.fieldname]),g.Pb(2),g.Dc("id",n.formfield.fieldname)("formControlName",n.formfield.fieldname),g.Pb(1),g.Sb("loading_",n.formfield.fieldname,""),g.Pb(1),g.Dc("ngForOf",n.formImageArray[n.formfield.fieldname])}}function he(e,t){if(1&e&&(g.gc(0),g.dc(1,"img",69),g.fc()),2&e){var i=g.xc(3);g.Pb(1),g.Dc("src",i.formfield.value,g.Qc)}}function pe(e,t){1&e&&(g.gc(0),g.ic(1,"div",70),g.ic(2,"div",3),g.dc(3,"ngx-signature-pad",null,71),g.hc(),g.hc(),g.fc())}function ve(e,t){if(1&e&&(g.gc(0),g.Xc(1,he,2,1,"ng-container",14),g.dc(2,"input",68),g.Xc(3,pe,5,0,"ng-container",14),g.fc()),2&e){var i=g.xc(2);g.Pb(1),g.Dc("ngIf",i.formfield.value),g.Pb(1),g.Dc("formControlName",i.formfield.fieldname),g.Pb(1),g.Dc("ngIf",i.display)}}function ge(e,t){if(1&e&&(g.ic(0,"small",72),g.Zc(1),g.hc()),2&e){var i=g.xc(2);g.Pb(1),g.bd(" * ",i.formfield.displayname," is Required ")}}function ye(e,t){if(1&e&&(g.ic(0,"small",72),g.Zc(1),g.hc()),2&e){var i=g.xc(2);g.Pb(1),g.bd(" * ",i.formfield.displayname," is Invalid Email ")}}function be(e,t){if(1&e){var i=g.jc();g.ic(0,"button",73),g.tc("click",(function(){return g.Oc(i),g.xc(2).clear()})),g.Zc(1," clear "),g.hc()}}function we(e,t){if(1&e){var i=g.jc();g.gc(0),g.ic(1,"label",74),g.ic(2,"i",13),g.Zc(3,"cloud_upload"),g.hc(),g.Zc(4),g.hc(),g.ic(5,"input",45,46),g.tc("change",(function(){return g.Oc(i),g.Lc(6).value=""})),g.hc(),g.fc()}if(2&e){var n=g.xc(2);g.Pb(1),g.Fc("for","fileupload_",n.formfield.fieldname,""),g.Pb(3),g.bd(" ",n.getLang("upload","Upload")," "),g.Pb(1),g.Uc("display","none"),g.Fc("id","fileupload_",n.formfield.fieldname,""),g.Dc("uploader",n.customeUploader[n.formfield.fieldname])}}function xe(e,t){if(1&e){var i=g.jc();g.ic(0,"form",1,2),g.tc("ngSubmit",(function(){g.Oc(i);var e=g.xc();return e.onDynamicFormSubmit(e.dynamicForm.value,e.dynamicForm.valid)})),g.ic(2,"div",3),g.ic(3,"div",4),g.ic(4,"label",5),g.Zc(5),g.hc(),g.gc(6,6),g.Xc(7,W,3,1,"ng-container",7),g.Xc(8,X,6,1,"ng-container",7),g.Xc(9,z,3,2,"ng-container",7),g.Xc(10,H,3,2,"ng-container",7),g.Xc(11,K,6,3,"ng-container",7),g.Xc(12,Y,6,6,"ng-container",7),g.Xc(13,Q,5,4,"ng-container",7),g.Xc(14,ee,6,3,"ng-container",7),g.Xc(15,te,3,1,"ng-container",7),g.Xc(16,ie,3,1,"ng-container",7),g.Xc(17,ne,3,1,"ng-container",7),g.Xc(18,ae,3,1,"ng-container",7),g.Xc(19,ce,2,21,"ng-container",7),g.Xc(20,le,2,3,"ng-container",7),g.Xc(21,de,2,3,"ng-container",7),g.Xc(22,fe,13,11,"ng-container",7),g.Xc(23,me,17,12,"ng-container",7),g.Xc(24,ve,4,3,"ng-container",7),g.ic(25,"div",8),g.Xc(26,ge,2,1,"small",9),g.Xc(27,ye,2,1,"small",9),g.hc(),g.fc(),g.hc(),g.hc(),g.ic(28,"div",3),g.ic(29,"div",10),g.Xc(30,be,2,0,"button",11),g.ic(31,"button",12),g.ic(32,"i",13),g.Zc(33,"save"),g.hc(),g.Zc(34),g.hc(),g.Xc(35,we,7,6,"ng-container",14),g.hc(),g.hc(),g.hc()}if(2&e){var n=g.xc();g.Dc("formGroup",n.dynamicForm),g.Pb(5),g.bd(" ",n.getLang(n.formfield.fieldname,n.formfield.displayname)," "),g.Pb(1),g.Dc("ngSwitch",n.formfield.fieldtype),g.Pb(1),g.Dc("ngSwitchCase","text"),g.Pb(1),g.Dc("ngSwitchCase","long_text"),g.Pb(1),g.Dc("ngSwitchCase","checkbox"),g.Pb(1),g.Dc("ngSwitchCase","radio"),g.Pb(1),g.Dc("ngSwitchCase","list"),g.Pb(1),g.Dc("ngSwitchCase","datepicker"),g.Pb(1),g.Dc("ngSwitchCase","time_only"),g.Pb(1),g.Dc("ngSwitchCase","multi_selected_list"),g.Pb(1),g.Dc("ngSwitchCase","primaryemail"),g.Pb(1),g.Dc("ngSwitchCase","secondaryemail"),g.Pb(1),g.Dc("ngSwitchCase","mobile"),g.Pb(1),g.Dc("ngSwitchCase","alternatenumber"),g.Pb(1),g.Dc("ngSwitchCase","whatsappnumber"),g.Pb(1),g.Dc("ngSwitchCase","lookup"),g.Pb(1),g.Dc("ngSwitchCase","form"),g.Pb(1),g.Dc("ngSwitchCase","attachment"),g.Pb(1),g.Dc("ngSwitchCase","gallery"),g.Pb(1),g.Dc("ngSwitchCase","signaturepad"),g.Pb(1),g.Dc("hidden",n.dynamicForm.get(g.Hc(27,oe,n.formfield.fieldname)).valid||n.dynamicForm.get(g.Hc(29,oe,n.formfield.fieldname)).pristine&&!n.dynamicSubmitted),g.Pb(1),g.Dc("ngIf",n.dynamicForm.get(g.Hc(31,oe,n.formfield.fieldname)).hasError("required")),g.Pb(1),g.Dc("ngIf",n.dynamicForm.get(g.Hc(33,oe,n.formfield.fieldname)).hasError("email")),g.Pb(3),g.Dc("ngIf","signaturepad"==n.formfield.fieldtype),g.Pb(4),g.bd("",n.getLang("save","Save")," "),g.Pb(1),g.Dc("ngIf","signaturepad"==n.formfield.fieldtype)}}var ke,_e,Pe=((ke=function(i){t(r,i);var a=n(r);function r(e,t,i,n){var o;return l(this,r),(o=a.call(this)).fb=e,o._route=t,o.cloudinary=i,o.changeDetectorRef=n,o.separateDialCode=!0,o.SearchCountryField=w.e,o.CountryISO=w.a,o.preferredCountries=[w.a.India,w.a.UnitedStates,w.a.UnitedKingdom],o.response=[],o.customeUploader=[],o.maxFileSize=5242880,o.formImageArray=[],o.childSubmitData=new g.r,o.config={minWidth:1,maxWidth:10,penColor:"blue"},o.display=!1,o}return s(r,[{key:"ngOnInit",value:function(){var t=this,i=Object.create(null,{ngOnInit:{get:function(){return e(o(r.prototype),"ngOnInit",t)}}});return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.ngOnInit.call(this);case 3:return e.next=5,this.makeForm();case 5:return e.next=7,this.fillValue();case 7:return e.next=9,this.imageConfigration();case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:return e.prev=13,t=(new Date).getFullYear(),this.minDate=new Date(t-100,0,1),this.maxDate=new Date(t+100,11,31),e.finish(13);case 17:case"end":return e.stop()}}),e,this,[[0,11,13,17]])})))}},{key:"ngAfterViewInit",value:function(){var e=this;"signaturepad"==this.formfield.fieldtype&&setTimeout((function(){e.display=!0,e.changeDetectorRef.detectChanges()}),1e3)}},{key:"makeForm",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t={})[this.formfield.fieldname]="checkbox"==this.formfield.fieldtype?new h.f([]):"readonly"==this.formfield.fieldtype?new h.f(this.formfield.defaultvalue):"primaryemail"==this.formfield.fieldtype||"secondaryemail"==this.formfield.fieldtype?new h.f(null,h.w.compose("yes"==this.formfield.required?[h.w.required,y.a.email]:[y.a.email])):this.formfield.required?new h.f(null,h.w.compose([h.w.required])):new h.f(null),this.dynamicForm=this.fb.group(t);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"fillValue",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.formfielValue&&this.formfielValue.property[this.formfield.fieldname]&&this.formfield.fieldname&&this.dynamicForm.controls[this.formfield.fieldname].setValue(this.formfielValue.property[this.formfield.fieldname]);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onDynamicFormSubmit",value:function(e,t){if(this.dynamicSubmitted=!0,!t)return this.showNotification("top","right","Validation failed!!!","danger"),!1;if("attachment"==this.formfield.fieldtype||"gallery"==this.formfield.fieldtype)for(var i in this.formImageArray)i==this.formfield.fieldname&&(this.dynamicForm.value[this.formfield.fieldname]=this.formImageArray[i]);else if("lookup"==this.formfield.fieldtype||"form"==this.formfield.fieldtype)if(this.dynamicForm.value[this.formfield.fieldname]&&this.dynamicForm.value[this.formfield.fieldname].autocomplete_id){var n=this.dynamicForm.value[this.formfield.fieldname].autocomplete_displayname,a=this.dynamicForm.value[this.formfield.fieldname].autocomplete_id;this.dynamicForm.value[this.formfield.fieldname]={},this.dynamicForm.value[this.formfield.fieldname]={autocomplete_displayname:n,autocomplete_id:a}}else this.dynamicForm.value[this.formfield.fieldname]="";else if("signaturepad"==this.formfield.fieldtype)if(this.signaturePadElement.isEmpty())for(var o in this.formImageArray)o==this.formfield.fieldname&&(this.dynamicForm.value[this.formfield.fieldname]=this.formImageArray[o][this.formImageArray[o].length-1].attachment);else this.dynamicForm.value[this.formfield.fieldname]=this.signaturePadElement.toDataURL();this.childSubmitData.emit(this.dynamicForm.value)}},{key:"imageConfigration",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i,n,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"attachment"!=this.formfield.fieldtype&&"gallery"!=this.formfield.fieldtype&&"signaturepad"!=this.formfield.fieldtype||(t={url:"https://api.cloudinary.com/v1_1/".concat(this._authService.auth_cloud_name?this._authService.auth_cloud_name:this.cloudinary.config().cloud_name,"/upload"),autoUpload:!0,isHTML5:!0,removeAfterUpload:!0,headers:[{name:"X-Requested-With",value:"XMLHttpRequest"}]},"gallery"!=this.formfield.fieldtype&&"signaturepad"!=this.formfield.fieldtype||(t.allowedFileType=["image"]),i=this.formfield.fieldname,this.customeUploader[i]=new x.c(t),this.customeUploader[i].onBuildItemForm=function(e,t){t.append("upload_preset",a.cloudinary.config().upload_preset);var i=a.formfield.fieldname;return a.title&&(t.append("context","photo="+a.formfield.fieldname),i=a.formfield.fieldname),t.append("tags",i),t.append("file",e),e.withCredentials=!1,{fileItem:e,form:t}},n=function(e){if($(".loading_"+a.formfield.fieldname).show(),e&&200==e.status){var t,i=e.data.tags[0];a.formImageArray[i]||(a.formImageArray[i]=[]),a.formfield.value||(a.formfield.value=""),e.file&&(t=e.file.name.substr(e.file.name.lastIndexOf(".")+1)),a.formImageArray[i].push({attachment:e.data.secure_url,extension:t,originalfilename:e.data.original_filename}),a.formfield.value=e.data.secure_url,$("#"+i).val(e.data.secure_url),$(".loading_"+a.formfield.fieldname).hide()}},this.customeUploader[i].onCompleteItem=function(e,t,i,a){return n({file:e.file,status:i,data:JSON.parse(t)})},this.customeUploader[i].onProgressItem=function(e,t){return n({file:e.file,progress:t})},this.customeUploader[i].onWhenAddingFileFailed=function(e,t){var i="";switch(t.name){case"fileSize":i='Warning ! \nThe uploaded file "'+e.name+'" is '+a.formatBytes(e.size)+", this exceeds the maximum allowed size of "+a.formatBytes(a.formfield.maxfilesize?a.formfield.maxfilesize:1024*Number(a.maxFileSize)*1024),a.showNotification("top","right",i,"danger");break;default:i="Error trying to upload file "+e.name,a.showNotification("top","right",i,"danger")}});case 1:case"end":return e.stop()}}),e,this)})))}},{key:"formatBytes",value:function(e,t){if(0==e)return"0 Bytes";var i=t||2,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(i))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}},{key:"downloadlink",value:function(e){return window.open(e,"_blank"),!0}},{key:"removeImg",value:function(e,t){var i=this;for(var n in this.dynamicForm.value[t])this.dynamicForm.value[t][n]==e.attachment&&this.dynamicForm.value[t].splice(n,1);var a=function(n){n==t&&i.formImageArray[n].forEach((function(t){t==e&&i.formImageArray[n].splice(t,1)}))};for(var o in this.formImageArray)a(o);this.formfield.fieldname==t&&0==this.formImageArray[t].length&&(this.formfield.value="")}},{key:"clear",value:function(){this.signaturePadElement.clear(),this.dynamicForm.value[this.formfield.fieldname]="",this.formfield.value=""}},{key:"getImage",value:function(){console.log(this.signaturePadElement.toDataURL())}},{key:"changeConfig",value:function(){this.config.penColor=Math.random()>=.5?"black":"red",this.config.maxWidth=10*Math.random(),this.config=Object.assign({},this.config)}},{key:"isInValid",value:function(){return!(this.signaturePadElement&&!this.signaturePadElement.isEmpty())}},{key:"forceReload",value:function(){this.signaturePadElement.forceUpdate()}},{key:"onItemAdded",value:function(e){}}]),r}(b.a)).\u0275fac=function(e){return new(e||ke)(g.cc(h.e),g.cc(u.a),g.cc(k.a),g.cc(g.i))},ke.\u0275cmp=g.Wb({type:ke,selectors:[["app-document-field-value"]],viewQuery:function(e,t){var i;1&e&&g.dd(B,!0),2&e&&g.Kc(i=g.uc())&&(t.signaturePadElement=i.first)},inputs:{formfield:"formfield",formfielValue:"formfielValue"},outputs:{childSubmitData:"childSubmitData"},features:[g.Mb],decls:1,vars:1,consts:[["novalidate","","class","mb-0",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","",1,"mb-0",3,"formGroup","ngSubmit"],["formtext",""],[1,"row"],[1,"col-sm-12"],[1,"col-form-label"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"text-danger",2,"margin-left","18%",3,"hidden"],["class","error-label",4,"ngIf"],[1,"col-sm-12","text-right"],["class","btn btn-default","type","button",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","ml-2"],[1,"material-icons"],[4,"ngIf"],[1,"example-full-width"],["type","text","matInput","",3,"formControlName"],["type","text","matInput","","value","",3,"formControlName"],["matInput",""],[3,"formControlName"],["class","mat-primary","checkboxPosition","before",3,"value",4,"ngFor","ngForOf"],["checkboxPosition","before",1,"mat-primary",3,"value"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"formControlName"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"example-radio-button",3,"value"],["matInput","","placeholder","Select","aria-label","Select",3,"matAutocomplete","formControlName"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","placeholder","",3,"min","max","matDatepicker","formControlName"],["matSuffix","",3,"for"],[3,"startAt"],["resultPicker",""],["matInput","",3,"owlDateTimeTrigger","owlDateTime","formControlName"],[3,"pickerType"],["dt1",""],["multiple","",3,"formControlName"],["value",""],["type","number","matInput","",3,"formControlName"],[3,"inputId","cssClass","ngClass","preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","phoneValidation","separateDialCode","formControlName"],[3,"formControlName","setting","dbvalue","added"],[1,"form-group"],["src","assets/img/image-loader.GIF",2,"height","100px","width","100px","display","none"],[1,"btn","btn-primary","btn-file"],[1,"upload_button","mb-0",3,"for"],["type","file","ng2FileSelect","","multiple","",3,"id","uploader","change"],["fileInput",""],["type","hidden",3,"id","formControlName"],[1,"mt-2"],["class","upload-tag badge badge-pill d-flex mb-2",4,"ngFor","ngForOf"],[1,"upload-tag","badge","badge-pill","d-flex","mb-2"],[1,"d-flex","flex-grow-1","align-items-center"],[1,"material-icons","d-flex","align-items-center","mr-2"],[3,"click"],[1,"material-icons","d-flex","align-items-center","justify-content-end","ml-2","cursor-pointer",3,"click"],[1,"row","membroz-row"],[1,"col-xl-2","col-lg-2","col-md-3","col-sm-4","col-6","membroz-col","d-flex","flex-grow-1","mb-3"],[1,"btn-file","text-center","add-upload-inner-vcenter"],[1,"upload_button","mb-0","add-upload-main",3,"for"],["xmlns","http://www.w3.org/2000/svg","width","18.77","height","18.77","viewBox","0 0 18.77 18.77"],["transform","translate(-807.636 -666.636)"],["x2","11.858","y2","11.858","transform","translate(817.021 667.636) rotate(45)","fill","none","stroke","#949494","stroke-linecap","round","stroke-width","1"],["x1","11.858","y2","11.858","transform","translate(817.021 667.636) rotate(45)","fill","none","stroke","#949494","stroke-linecap","round","stroke-width","1"],["class","col-xl-2 col-lg-2 col-md-3 col-sm-4 col-6 membroz-col d-flex flex-grow-1 mb-3",4,"ngFor","ngForOf"],[1,"position-relative","d-flex"],[1,"img-fluid","img-add-product",3,"src","click"],[1,"img-add-product-delete"],["mat-raised-button","",1,"btn","btn-just-icon","btn-link",3,"click"],["type","hidden",3,"formControlName"],[2,"height","100px","width","100px",3,"src"],[1,"container"],["testPadTest",""],[1,"error-label"],["type","button",1,"btn","btn-default",3,"click"],[1,"btn","btn-primary","ml-2",3,"for"]],template:function(e,t){1&e&&g.Xc(0,xe,36,35,"form",0),2&e&&g.Dc("ngIf",t.dynamicForm)},directives:[m.l,h.y,h.q,h.i,m.n,m.o,_.b,P.b,h.c,h.p,h.h,w.b,D.c,m.k,D.b,S.b,S.a,C.c,C.a,F.p,O.b,O.d,_.e,O.a,I.b,I.d,I.a,E.a,h.u,w.c,m.j,M.a,x.a,A.a,R],encapsulation:2}),ke),De=c("jhN1"),Se=((_e=function(){function e(t){l(this,e),this.sanitized=t}return s(e,[{key:"transform",value:function(e){return this.sanitized.bypassSecurityTrustHtml(e)}}]),e}()).\u0275fac=function(e){return new(e||_e)(g.cc(De.b))},_e.\u0275pipe=g.bc({name:"safeHtml",type:_e,pure:!0}),_e);function Ce(e,t){1&e&&(g.ic(0,"div",27),g.Zc(1,"Loading\u2026"),g.hc())}function Fe(e,t){if(1&e){var i=g.jc();g.ic(0,"app-document-field-value",28),g.tc("childSubmitData",(function(e){return g.Oc(i),g.xc().getSubmittedData(e)})),g.hc()}if(2&e){var n=g.xc();g.Dc("formfield",n.selectedField)("formfielValue",n.tempSlectedValue)}}var Oe,Ie,Ee=((Oe=function(i){t(r,i);var a=n(r);function r(e,t){var i;return l(this,r),(i=a.call(this))._route=e,i.elementRef=t,i.formFieldVisibile=!1,i.disableSubmitBtn=!1,i.formfields=[],i.handleAnchorClick=function(e){e.preventDefault();var t=e.target;i.formFieldVisibile=!1,setTimeout((function(){i.selectedField=i.getformfieldObj(t.id),i.selectedField&&($("#myModalFormfieldPopup").click(),i.formFieldVisibile=!0)}))},i._route.params.forEach((function(e){i.bindId=e.id,i._formName=i.bindId})),i}return s(r,[{key:"ngOnInit",value:function(){var t=this,i=Object.create(null,{ngOnInit:{get:function(){return e(o(r.prototype),"ngOnInit",t)}}});return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.ngOnInit.call(this);case 3:return e.next=5,this.initializeVariables();case 5:return e.next=7,this.getformFields();case 7:return e.next=9,this.getLoadFormdatas();case 9:return e.next=11,this.getLoadForm();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})))}},{key:"initializeVariables",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.selectedField={},this.tempSlectedValue={},this.formFieldVisibile=!1,this.disableSubmitBtn=!1,this.formfields=[],this.doctemplate={};case 1:case"end":return e.stop()}}),e,this)})))}},{key:"ngAfterViewChecked",value:function(){var e=this;this.anchors=this.elementRef.nativeElement.querySelectorAll("a"),this.anchors.forEach((function(t){t.addEventListener("click",e.handleAnchorClick)}))}},{key:"getformFields",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:[]},e.abrupt("return",(t.search.push({searchfield:"formname",searchvalue:this.formObj.formname,criteria:"eq"}),t.search.push({searchfield:"status",searchvalue:"active",criteria:"eq"}),this._commonService.commonServiceByUrlMethodDataAsync("formfields/filter","POST",t).then((function(e){if(e)return i.formfields=[],i.formfields=e,i.tempSlectedValue={},i.tempSlectedValue.property={},void i.formfields.forEach((function(e){i.tempSlectedValue.property[e.fieldname]=""}))}),(function(e){console.error(e)}))));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getLoadFormdatas",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:[]},e.abrupt("return",(t.search.push({searchfield:"formid",searchvalue:this.formObj._id,criteria:"eq",datatype:"ObjectId"}),t.search.push({searchfield:"status",searchvalue:"active",criteria:"eq"}),this._commonService.commonServiceByUrlMethodDataAsync("formdatas/filter","POST",t).then((function(e){e&&e&&e[0]&&(i.tempSlectedValue.addedby=e[0].addedby,i.tempSlectedValue.branchid=e[0].branchid,i.tempSlectedValue.createdAt=e[0].createdAt,i.tempSlectedValue.formid=e[0].formid,i.tempSlectedValue.status=e[0].status,i.tempSlectedValue.updatedAt=e[0].updatedAt,i.tempSlectedValue._id=e[0]._id,i.tempSlectedValue&&i.tempSlectedValue.property&&i.formfields&&i.formfields.length>0&&i.formfields.forEach((function(t){t&&e[0].property[t.fieldname]&&(t.value=e[0].property[t.fieldname],i.tempSlectedValue.property[t.fieldname]=e[0].property[t.fieldname])})))}),(function(e){console.error(e)}))));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getLoadForm",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:[]},e.abrupt("return",(t.search.push({searchfield:"formname",searchvalue:this.formObj.formname,criteria:"eq"}),t.search.push({searchfield:"status",searchvalue:"active",criteria:"eq"}),this._commonService.commonServiceByUrlMethodDataAsync("forms/filter","POST",t).then((function(e){if(e&&e&&e[0]&&e[0].doctemplate){i.doctemplate=e[0].doctemplate;var t=i;i.doctemplate.replace(/\[\((\w+)+\.?(\w+)\.?(\w+)\)]/gm,(function(e,i){var n=e.replace("[(","");n=n.replace(")]",""),t._loginUser&&t._loginUser[n]&&(t.doctemplate=t.doctemplate.replace("$[("+n+")]","<span style='background-color: yellow'>".concat(t._loginUser[n],"</span>")))}));var n=i;i.doctemplate.replace(/\[{(\w+)+\.?(\w+)\.?(\w+)\}]/gm,(function(e,t){var i,a=e.replace("[{","");a=a.replace("}]","");var o=n.getformfieldObj(a);if(o){var r="";if("text"==o.fieldtype)r="<input type='text' id='"+a+"' value='"+(c=o&&o.value?o.value:"")+"'>";else if("checkbox"==o.fieldtype){var c=o&&o.value?o.value:"";o.lookupdata&&o.lookupdata.length>0&&o.lookupdata.forEach((function(e){var t="";c&&c.length>0&&c.find((function(t){return t==e.key}))&&(t='checked="checked"'),r+=" <input type='checkbox' id='"+a+"' "+t+">"}))}else r="datepicker"==o.fieldtype?"<input type='date' id='"+a+"' value='"+n.convertDate(c=o&&o.value?o.value:"")+"'>":"lookup"==o.fieldtype||"form"==o.fieldtype?"<input type='text' id='"+a+"' value='"+(c=o&&o.value&&o.value.autocomplete_displayname?o.value.autocomplete_displayname:o&&o.value?o.value:o.displayname)+"'>":"signaturepad"==o.fieldtype?"<img id='"+a+"' src='"+(c=o&&o.value?o.value:"")+"' style='height: 100px; width: 100px'>":"<input type='text' id='"+a+"' value='"+(c=o&&o.value?o.value:"")+"'>";i='<a id="'.concat(a,'">').concat(r,"</a>")}i&&(n.doctemplate=n.doctemplate.replace("$[{"+a+"}]",i))}))}}),(function(e){console.error(e)}))));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"convertDate",value:function(e){function t(e){return e<10?"0"+e:e}var i=new Date(e);return[i.getFullYear(),t(i.getMonth()+1),t(i.getDate())].join("-")}},{key:"getSubmittedData",value:function(e){var t=this;if(e){this.tempSlectedValue&&this.tempSlectedValue.property&&void 0!==this.tempSlectedValue.property[this.selectedField.fieldname]&&(this.tempSlectedValue.property[this.selectedField.fieldname]=e[this.selectedField.fieldname]);var i=this.formfields.find((function(e){return e._id==t.selectedField._id}));i&&(i.value=e[this.selectedField.fieldname]),$(".close").click(),this.getLoadForm()}}},{key:"getformfieldObj",value:function(e){return this.formfields.find((function(t){return t._id==e}))}},{key:"submit",value:function(){var e=this,t=!1;this.formfields&&this.formfields.length>0&&this.formfields.forEach((function(i){i.required&&(e.tempSlectedValue&&e.tempSlectedValue.property&&""==e.tempSlectedValue.property[e.selectedField.fieldname]||null==e.tempSlectedValue.property[e.selectedField.fieldname])&&(t=!0)})),this.disableSubmitBtn=!0,setTimeout((function(){if(!t){if(e.tempSlectedValue&&e.tempSlectedValue._id)return e._commonService.commonServiceByUrlMethodDataAsync(i="formdatas/"+e.tempSlectedValue._id,n="PUT",e.tempSlectedValue).then((function(t){t&&(e.disableSubmitBtn=!1,e.showNotification("top","right","Document has been updated Successfully!!!","success"),e.ngOnInit())}),(function(t){console.error(t),e.disableSubmitBtn=!1}));var i="formdatas",n="POST";return e.tempSlectedValue.formid="602a087c99e17f373c5f4e7c",e._commonService.commonServiceByUrlMethodDataAsync(i,n,e.tempSlectedValue).then((function(t){t&&(e.disableSubmitBtn=!1,e.showNotification("top","right","Document has been updated Successfully!!!","success"),e.ngOnInit())}),(function(t){console.error(t),e.disableSubmitBtn=!1}))}e.disableSubmitBtn=!1,e.showNotification("top","right","Validation Failed !!!","danger")}))}}]),r}(v.a)).\u0275fac=function(e){return new(e||Oe)(g.cc(u.a),g.cc(g.o))},Oe.\u0275cmp=g.Wb({type:Oe,selectors:[["app-document-module"]],features:[g.Mb],decls:43,vars:5,consts:[["class","loading",4,"ngIf"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[3,"innerHTML"],[1,"footer","fixed-bottom","bg-white","shadow-top"],[1,"offset-xl-2","col-xl-8"],[1,"col-sm-12","text-right"],["type","button",1,"btn","btn-default"],["type","submit",1,"btn","btn-primary","ml-2",3,"click"],["id","myModalFormfieldPopup","type","button","data-toggle","modal","data-backdrop","static","data-keyboard","false","data-target","#myModalFormfield",1,"btn","btn-info","btn-lg","d-none"],["id","myModalFormfield","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[3,"formfield","formfielValue","childSubmitData",4,"ngIf"],[1,"modal-footer"],[1,"loading"],[3,"formfield","formfielValue","childSubmitData"]],template:function(e,t){1&e&&(g.Xc(0,Ce,2,0,"div",0),g.ic(1,"div",1),g.ic(2,"div",2),g.ic(3,"div",3),g.ic(4,"div",4),g.ic(5,"div",5),g.ic(6,"div",6),g.ic(7,"div",7),g.ic(8,"i",8),g.Zc(9,"\ue894"),g.hc(),g.hc(),g.ic(10,"h4",9),g.Zc(11,"Document form"),g.hc(),g.hc(),g.ic(12,"div",10),g.ic(13,"div",3),g.dc(14,"div",11),g.yc(15,"safeHtml"),g.hc(),g.hc(),g.hc(),g.hc(),g.hc(),g.hc(),g.hc(),g.ic(16,"footer",12),g.ic(17,"div",2),g.ic(18,"div",3),g.ic(19,"div",13),g.ic(20,"div",3),g.ic(21,"div",14),g.ic(22,"button",15),g.ic(23,"i",8),g.Zc(24,"close"),g.hc(),g.Zc(25," Cancel "),g.hc(),g.ic(26,"button",16),g.tc("click",(function(){return t.submit()})),g.ic(27,"i",8),g.Zc(28,"save"),g.hc(),g.Zc(29," Save "),g.hc(),g.hc(),g.hc(),g.hc(),g.hc(),g.hc(),g.hc(),g.ic(30,"button",17),g.Zc(31,"Open Modal"),g.hc(),g.ic(32,"div",18),g.ic(33,"div",19),g.ic(34,"div",20),g.ic(35,"div",21),g.ic(36,"h4",22),g.Zc(37,"Fields"),g.hc(),g.ic(38,"button",23),g.Zc(39,"\xd7"),g.hc(),g.hc(),g.ic(40,"div",24),g.Xc(41,Fe,1,2,"app-document-field-value",25),g.hc(),g.dc(42,"div",26),g.hc(),g.hc(),g.hc()),2&e&&(g.Dc("ngIf",t.disableSubmitBtn),g.Pb(14),g.Dc("innerHTML",g.zc(15,3,t.doctemplate),g.Pc),g.Pb(27),g.Dc("ngIf",t.formFieldVisibile))},directives:[m.l,Pe],pipes:[Se],styles:['.loading[_ngcontent-%COMP%]{z-index:999;height:2em;width:2em;overflow:show;margin:auto;bottom:0;right:0}.loading[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]:before{position:fixed;top:0;left:0}.loading[_ngcontent-%COMP%]:before{content:"";display:block;width:100%;height:100%;background:radial-gradient(rgba(20,20,20,.8),rgba(0,0,0,.8));background:-webkit-radial-gradient(rgba(20,20,20,.8),rgba(0,0,0,.8))}.loading[_ngcontent-%COMP%]:not(:required){font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.loading[_ngcontent-%COMP%]:not(:required):after{content:"";display:block;font-size:10px;width:1em;height:1em;margin-top:-.5em;-webkit-animation:spinner 1.5s linear infinite;animation:spinner 1.5s linear infinite;border-radius:.5em;box-shadow:1.5em 0 0 0 hsla(0,0%,100%,.75),1.1em 1.1em 0 0 hsla(0,0%,100%,.75),0 1.5em 0 0 hsla(0,0%,100%,.75),-1.1em 1.1em 0 0 hsla(0,0%,100%,.75),-1.5em 0 0 0 hsla(0,0%,100%,.75),-1.1em -1.1em 0 0 hsla(0,0%,100%,.75),0 -1.5em 0 0 hsla(0,0%,100%,.75),1.1em -1.1em 0 0 hsla(0,0%,100%,.75)}@-webkit-keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}']}),Oe),Me=[{path:"",component:Ee},{path:"form",component:Ee},{path:"form/:id",component:Ee}],Ae=c("Ebo4"),Ve=c("kJ4b"),Ne=c("GU7I"),Te=c("Vx+w"),Ue={Cloudinary:Ne.Cloudinary},Le=((Ie=function e(){l(this,e)}).\u0275mod=g.ac({type:Ie}),Ie.\u0275inj=g.Zb({factory:function(e){return new(e||Ie)},imports:[[m.c,u.d.forChild(Me),h.k,Ve.a,h.v,I.c,I.e,w.d,Ae.a,k.b.forRoot(Ue,Te.a),x.b,j]]}),Ie)}}])}();