(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{tVUk:function(e,t,i){"use strict";i.r(t),i.d(t,"DocumentModuleModule",(function(){return Ce}));var o=i("tyNb"),n=i("ofXK"),a=i("3Pt+"),c=i("mrSG"),r=i("lYtk"),l=i("fXoL"),s=i("+Yhq"),d=i("K9UI"),m=i("t34c"),h=i("7pIB"),f=i("3nuN"),u=i("kmnG"),p=i("qFsG"),g=i("MutI"),v=i("QibW"),b=i("/1cH"),y=i("FKr1"),w=i("iadO"),x=i("z17N"),_=i("d3UM"),P=i("Yadw"),D=i("bTqV");class S{constructor(e,t,i){this.x=e,this.y=t,this.time=i||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class C{constructor(e,t,i,o,n,a){this.startPoint=e,this.control2=t,this.control1=i,this.endPoint=o,this.startWidth=n,this.endWidth=a}static fromPoints(e,t){const i=this.calculateControlPoints(e[0],e[1],e[2]).c2,o=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new C(e[1],i,o,e[2],t.start,t.end)}static calculateControlPoints(e,t,i){const o=e.x-t.x,n=e.y-t.y,a=t.x-i.x,c=t.y-i.y,r=(e.x+t.x)/2,l=(e.y+t.y)/2,s=(t.x+i.x)/2,d=(t.y+i.y)/2,m=Math.sqrt(o*o+n*n),h=Math.sqrt(a*a+c*c),f=h/(m+h),u=t.x-(s+(r-s)*f),p=t.y-(d+(l-d)*f);return{c1:new S(r+u,l+p),c2:new S(s+u,d+p)}}length(){let e,t,i=0;for(let o=0;o<=10;o+=1){const n=o/10,a=this.point(n,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),c=this.point(n,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){const o=a-e,n=c-t;i+=Math.sqrt(o*o+n*n)}e=a,t=c}return i}point(e,t,i,o,n){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*o*(1-e)*e*e+n*e*e*e}}class F{constructor(e,t={}){this.canvas=e,this.options=t,this._handleMouseDown=e=>{1===e.which&&(this._mouseButtonDown=!0,this._strokeBegin(e))},this._handleMouseMove=e=>{this._mouseButtonDown&&this._strokeMoveUpdate(e)},this._handleMouseUp=e=>{1===e.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(e))},this._handleTouchStart=e=>{e.preventDefault(),1===e.targetTouches.length&&this._strokeBegin(e.changedTouches[0])},this._handleTouchMove=e=>{e.preventDefault(),this._strokeMoveUpdate(e.targetTouches[0])},this._handleTouchEnd=e=>{e.target===this.canvas&&(e.preventDefault(),this._strokeEnd(e.changedTouches[0]))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._strokeMoveUpdate=this.throttle?function(e,t=250){let i,o,n,a=0,c=null;const r=()=>{a=Date.now(),c=null,i=e.apply(o,n),c||(o=null,n=[])};return function(...l){const s=Date.now(),d=t-(s-a);return o=this,n=l,d<=0||d>t?(c&&(clearTimeout(c),c=null),a=s,i=e.apply(o,n),c||(o=null,n=[])):c||(c=window.setTimeout(r,d)),i}}(F.prototype._strokeUpdate,this.throttle):F.prototype._strokeUpdate,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:e,canvas:t}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,t={},i){const o=new Image,n=t.ratio||window.devicePixelRatio||1,a=t.width||this.canvas.width/n,c=t.height||this.canvas.height/n;this._reset(),o.onload=()=>{this._ctx.drawImage(o,0,0,a,c),i&&i()},o.onerror=e=>{i&&i(e)},o.src=e,this._isEmpty=!1}toDataURL(e="image/png",t){switch(e){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(e,t)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e){this.clear(),this._fromData(e,({color:e,curve:t})=>this._drawCurve({color:e,curve:t}),({color:e,point:t})=>this._drawDot({color:e,point:t})),this._data=e}toData(){return this._data}_strokeBegin(e){const t={color:this.penColor,points:[]};"function"==typeof this.onBegin&&this.onBegin(e),this._data.push(t),this._reset(),this._strokeUpdate(e)}_strokeUpdate(e){if(0===this._data.length)return void this._strokeBegin(e);const t=this._createPoint(e.clientX,e.clientY),i=this._data[this._data.length-1],o=i.points,n=o.length>0&&o[o.length-1],a=!!n&&t.distanceTo(n)<=this.minDistance,c=i.color;if(!n||!n||!a){const e=this._addPoint(t);n?e&&this._drawCurve({color:c,curve:e}):this._drawDot({color:c,point:t}),o.push({time:t.time,x:t.x,y:t.y})}}_strokeEnd(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,t){const i=this.canvas.getBoundingClientRect();return new S(e-i.left,t-i.top,(new Date).getTime())}_addPoint(e){const{_lastPoints:t}=this;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);const e=this._calculateCurveWidths(t[1],t[2]),i=C.fromPoints(t,e);return t.shift(),i}return null}_calculateCurveWidths(e,t){const i=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(i),n={end:o,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=o,n}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,t,i){const o=this._ctx;o.moveTo(e,t),o.arc(e,t,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:e,curve:t}){const i=this._ctx,o=t.endWidth-t.startWidth,n=2*Math.floor(t.length());i.beginPath(),i.fillStyle=e;for(let a=0;a<n;a+=1){const e=a/n,i=e*e,c=i*e,r=1-e,l=r*r,s=l*r;let d=s*t.startPoint.x;d+=3*l*e*t.control1.x,d+=3*r*i*t.control2.x,d+=c*t.endPoint.x;let m=s*t.startPoint.y;m+=3*l*e*t.control1.y,m+=3*r*i*t.control2.y,m+=c*t.endPoint.y;const h=Math.min(t.startWidth+c*o,this.maxWidth);this._drawCurveSegment(d,m,h)}i.closePath(),i.fill()}_drawDot({color:e,point:t}){const i=this._ctx,o="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(t.x,t.y,o),i.closePath(),i.fillStyle=e,i.fill()}_fromData(e,t,i){for(const o of e){const{color:e,points:n}=o;if(n.length>1)for(let i=0;i<n.length;i+=1){const o=n[i],a=new S(o.x,o.y,o.time);this.penColor=e,0===i&&this._reset();const c=this._addPoint(a);c&&t({color:e,curve:c})}else this._reset(),i({color:e,point:n[0]})}}_toSVG(){const e=this._data,t=Math.max(window.devicePixelRatio||1,1),i=this.canvas.width/t,o=this.canvas.height/t,n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width",this.canvas.width.toString()),n.setAttribute("height",this.canvas.height.toString()),this._fromData(e,({color:e,curve:t})=>{const i=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){const o=`M ${t.startPoint.x.toFixed(3)},${t.startPoint.y.toFixed(3)} C ${t.control1.x.toFixed(3)},${t.control1.y.toFixed(3)} ${t.control2.x.toFixed(3)},${t.control2.y.toFixed(3)} ${t.endPoint.x.toFixed(3)},${t.endPoint.y.toFixed(3)}`;i.setAttribute("d",o),i.setAttribute("stroke-width",(2.25*t.endWidth).toFixed(3)),i.setAttribute("stroke",e),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),n.appendChild(i)}},({color:e,point:t})=>{const i=document.createElement("circle"),o="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.setAttribute("r",o.toString()),i.setAttribute("cx",t.x.toString()),i.setAttribute("cy",t.y.toString()),i.setAttribute("fill",e),n.appendChild(i)});const a=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${i} ${o}" width="${i}" height="${o}">`;let c=n.innerHTML;if(void 0===c){const e=document.createElement("dummy"),t=n.childNodes;e.innerHTML="";for(let i=0;i<t.length;i+=1)e.appendChild(t[i].cloneNode(!0));c=e.innerHTML}return"data:image/svg+xml;base64,"+btoa(a+c+"</svg>")}}var k=F;const I=["signaturePad"],E=["signaturePadContainer"];let M=(()=>{class e{constructor(){}ngOnChanges(e){e.config.firstChange||Object.keys(e.config.currentValue).map(t=>{this.signaturePad[t]=e.config.currentValue[t]})}ngAfterViewInit(){this.setCanvasSize(),this.signaturePad=new k(this.signaturePadElement.nativeElement,this.config)}setCanvasSize(){const{offsetWidth:e,offsetHeight:t}=this.signaturePadContainerElement.nativeElement;this.signaturePadElement.nativeElement.width=e,this.signaturePadElement.nativeElement.height=t}clear(){this.signaturePad.clear()}fromDataURL(e,t,i){this.signaturePad.fromDataURL(e,t,i)}toDataURL(e,t){return this.signaturePad.toDataURL(e,t)}on(){this.signaturePad.on()}off(){this.signaturePad.off()}isEmpty(){return!this.signaturePad||this.signaturePad.isEmpty()}fromData(e){this.signaturePad.fromData(e)}toData(){return this.signaturePad.toData()}forceUpdate(){this.setCanvasSize(),this.signaturePad=new k(this.signaturePadElement.nativeElement,this.config)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Wb({type:e,selectors:[["ngx-signature-pad"]],viewQuery:function(e,t){var i;1&e&&(l.dd(I,!0),l.dd(E,!0)),2&e&&(l.Kc(i=l.uc())&&(t.signaturePadElement=i.first),l.Kc(i=l.uc())&&(t.signaturePadContainerElement=i.first))},inputs:{config:"config"},features:[l.Nb],decls:4,vars:0,consts:[["signaturePadContainer",""],["signaturePad",""]],template:function(e,t){1&e&&(l.ic(0,"div",null,0),l.dc(2,"canvas",null,1),l.hc())},encapsulation:2}),e})(),O=(()=>{class e{}return e.\u0275mod=l.ac({type:e}),e.\u0275inj=l.Zb({factory:function(t){return new(t||e)},imports:[[]]}),e})();const V=["testPadTest"];function A(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-form-field",15),l.dc(2,"input",16),l.hc(),l.fc()),2&e){const e=l.xc(2);l.Pb(2),l.Dc("formControlName",e.formfield.fieldname)}}function N(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-form-field",15),l.dc(2,"input",17),l.hc(),l.ic(3,"mat-form-field",15),l.ic(4,"textarea",18),l.Zc(5," "),l.hc(),l.hc(),l.fc()),2&e){const e=l.xc(2);l.Pb(2),l.Dc("formControlName",e.formfield.fieldname)}}function U(e,t){if(1&e&&(l.ic(0,"mat-list-option",21),l.Zc(1),l.hc()),2&e){const e=t.$implicit;l.Dc("value",e.key),l.Pb(1),l.bd(" ",e.value," ")}}function L(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-selection-list",19),l.Xc(2,U,2,2,"mat-list-option",20),l.hc(),l.fc()),2&e){const e=l.xc(2);l.Pb(1),l.Dc("formControlName",e.formfield.fieldname),l.Pb(1),l.Dc("ngForOf",e.formfield.lookupdata)}}function T(e,t){if(1&e&&(l.ic(0,"mat-radio-button",24),l.Zc(1),l.hc()),2&e){const e=t.$implicit;l.Dc("value",e.value),l.Pb(1),l.bd(" ",e.value," ")}}function B(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-radio-group",22),l.Xc(2,T,2,2,"mat-radio-button",23),l.hc(),l.fc()),2&e){const e=l.xc(2);l.Pb(1),l.Dc("formControlName",e.formfield.fieldname),l.Pb(1),l.Dc("ngForOf",e.formfield.lookupdata)}}function W(e,t){if(1&e&&(l.ic(0,"mat-option",28),l.ic(1,"span"),l.Zc(2),l.hc(),l.hc()),2&e){const e=t.$implicit;l.Dc("value",e.value),l.Pb(2),l.ad(e.value)}}function X(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-form-field",15),l.dc(2,"input",25),l.ic(3,"mat-autocomplete",null,26),l.Xc(5,W,3,2,"mat-option",27),l.hc(),l.hc(),l.fc()),2&e){const e=l.Lc(4),t=l.xc(2);l.Pb(2),l.Dc("matAutocomplete",e)("formControlName",t.formfield.fieldname),l.Pb(3),l.Dc("ngForOf",t.formfield.lookupdata)}}function j(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-form-field"),l.dc(2,"input",29),l.dc(3,"mat-datepicker-toggle",30),l.dc(4,"mat-datepicker",31,32),l.hc(),l.fc()),2&e){const e=l.Lc(5),t=l.xc(2);l.Pb(2),l.Dc("min",t.minDate)("max",t.formfield.maxDate?t.formfield.maxDate:t.maxDate)("matDatepicker",e)("formControlName",t.formfield.fieldname),l.Pb(1),l.Dc("for",e),l.Pb(1),l.Dc("startAt",t.startDate)}}function Z(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-form-field",15),l.dc(2,"input",33),l.dc(3,"owl-date-time",34,35),l.hc(),l.fc()),2&e){const e=l.Lc(4),t=l.xc(2);l.Pb(2),l.Dc("owlDateTimeTrigger",e)("owlDateTime",e)("formControlName",t.formfield.fieldname),l.Pb(1),l.Dc("pickerType","timer")}}function z(e,t){if(1&e&&(l.ic(0,"mat-option",28),l.Zc(1),l.hc()),2&e){const e=t.$implicit;l.Dc("value",e.value),l.Pb(1),l.bd(" ",e.value," ")}}function q(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-form-field",15),l.ic(2,"mat-select",36),l.ic(3,"mat-option",37),l.Zc(4),l.hc(),l.Xc(5,z,2,2,"mat-option",27),l.hc(),l.hc(),l.fc()),2&e){const e=l.xc(2);l.Pb(2),l.Dc("formControlName",e.formfield.fieldname),l.Pb(2),l.bd("Select ",e.formfield.displayname,""),l.Pb(1),l.Dc("ngForOf",e.formfield.lookupdata)}}function R(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-form-field",15),l.dc(2,"input",16),l.hc(),l.fc()),2&e){const e=l.xc(2);l.Pb(2),l.Dc("formControlName",e.formfield.fieldname)}}function H(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-form-field",15),l.dc(2,"input",16),l.hc(),l.fc()),2&e){const e=l.xc(2);l.Pb(2),l.Dc("formControlName",e.formfield.fieldname)}}function G(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-form-field",15),l.dc(2,"input",38),l.hc(),l.fc()),2&e){const e=l.xc(2);l.Pb(2),l.Dc("formControlName",e.formfield.fieldname)}}function K(e,t){if(1&e&&(l.gc(0),l.ic(1,"mat-form-field",15),l.dc(2,"input",38),l.hc(),l.fc()),2&e){const e=l.xc(2);l.Pb(2),l.Dc("formControlName",e.formfield.fieldname)}}const Y=function(e){return[e]},Q=function(e,t){return[e,t]};function J(e,t){if(1&e&&(l.gc(0),l.dc(1,"ngx-intl-tel-input",39),l.fc()),2&e){const e=l.xc(2);l.Pb(1),l.Dc("inputId","adsasd")("cssClass","custom form-control")("ngClass",e.dynamicForm.get(l.Hc(14,Y,e.formfield.fieldname)).pristine&&!e.dynamicSubmitted||e.dynamicForm.get(l.Hc(16,Y,e.formfield.fieldname)).valid?" ":"error")("preferredCountries",e.preferredCountries)("enableAutoCountrySelect",!1)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",l.Ic(18,Q,e.SearchCountryField.Iso2,e.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",e.formfield.value&&e.formfield.value.countryCode?e.formfield.value.countryCode:e.CountryISO.India)("maxLength",15)("phoneValidation",!0)("separateDialCode",e.separateDialCode)("formControlName",e.formfield.fieldname)}}function ee(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"dynamic-autocomplete",40),l.tc("added",(function(t){return l.Oc(e),l.xc(2).onItemAdded(t)})),l.hc(),l.fc()}if(2&e){const e=l.xc(2);l.Pb(1),l.Dc("formControlName",e.formfield.fieldname)("setting",e.formfield)("dbvalue",e.formfield.value)}}function te(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"dynamic-autocomplete",40),l.tc("added",(function(t){return l.Oc(e),l.xc(2).onItemAdded(t)})),l.hc(),l.fc()}if(2&e){const e=l.xc(2);l.Pb(1),l.Dc("formControlName",e.formfield.fieldname)("setting",e.formfield)("dbvalue",e.formfield.value)}}function ie(e,t){if(1&e){const e=l.jc();l.ic(0,"span",50),l.ic(1,"span",51),l.ic(2,"i",52),l.Zc(3,"link"),l.hc(),l.ic(4,"span",53),l.tc("click",(function(){l.Oc(e);const i=t.$implicit;return l.xc(3).downloadlink(i.attachment)})),l.Zc(5),l.hc(),l.hc(),l.ic(6,"i",54),l.tc("click",(function(){l.Oc(e);const i=t.$implicit,o=l.xc(3);return o.removeImg(i,o.formfield.fieldname)})),l.Zc(7,"clear"),l.hc(),l.hc()}if(2&e){const e=t.$implicit;l.Pb(5),l.cd(" ",e.originalfilename,".",e.extension,"")}}function oe(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"div",41),l.dc(2,"img",42),l.ic(3,"div",43),l.ic(4,"label",44),l.ic(5,"i",13),l.Zc(6,"cloud_upload"),l.hc(),l.Zc(7," Upload "),l.hc(),l.ic(8,"input",45,46),l.tc("change",(function(){return l.Oc(e),l.Lc(9).value=""})),l.hc(),l.dc(10,"input",47),l.hc(),l.ic(11,"div",48),l.Xc(12,ie,8,2,"span",49),l.hc(),l.hc(),l.fc()}if(2&e){const e=l.xc(2);l.Pb(2),l.Sb("loading_",e.formfield.fieldname,""),l.Pb(2),l.Fc("for","fileupload_",e.formfield.fieldname,""),l.Pb(4),l.Uc("display","none"),l.Fc("id","fileupload_",e.formfield.fieldname,""),l.Dc("uploader",e.customeUploader[e.formfield.fieldname]),l.Pb(2),l.Dc("id",e.formfield.fieldname)("formControlName",e.formfield.fieldname),l.Pb(2),l.Dc("ngForOf",e.formImageArray[e.formfield.fieldname])}}function ne(e,t){if(1&e){const e=l.jc();l.ic(0,"div",56),l.ic(1,"div",64),l.ic(2,"img",65),l.tc("click",(function(){l.Oc(e);const i=t.$implicit;return l.xc(3).downloadlink(i.attachment)})),l.hc(),l.ic(3,"span",66),l.ic(4,"button",67),l.tc("click",(function(){l.Oc(e);const i=t.$implicit,o=l.xc(3);return o.removeImg(i,o.formfield.fieldname)})),l.ic(5,"i",13),l.Zc(6,"cancel"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc()}if(2&e){const e=t.$implicit;l.Pb(2),l.Dc("src",e.attachment,l.Qc)}}function ae(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"div",41),l.ic(2,"div",55),l.ic(3,"div",56),l.ic(4,"span",57),l.ic(5,"label",58),l.wc(),l.ic(6,"svg",59),l.ic(7,"g",60),l.dc(8,"line",61),l.dc(9,"line",62),l.hc(),l.hc(),l.vc(),l.ic(10,"div",48),l.Zc(11),l.hc(),l.hc(),l.ic(12,"input",45,46),l.tc("change",(function(){return l.Oc(e),l.Lc(13).value=""})),l.hc(),l.dc(14,"input",47),l.hc(),l.dc(15,"img",42),l.hc(),l.Xc(16,ne,7,1,"div",63),l.hc(),l.hc(),l.fc()}if(2&e){const e=l.xc(2);l.Pb(5),l.Fc("for","fileupload_",e.formfield.fieldname,""),l.Pb(6),l.bd(" ",e.getLang("addimage","Add image"),""),l.Pb(1),l.Uc("display","none"),l.Fc("id","fileupload_",e.formfield.fieldname,""),l.Dc("uploader",e.customeUploader[e.formfield.fieldname]),l.Pb(2),l.Dc("id",e.formfield.fieldname)("formControlName",e.formfield.fieldname),l.Pb(1),l.Sb("loading_",e.formfield.fieldname,""),l.Pb(1),l.Dc("ngForOf",e.formImageArray[e.formfield.fieldname])}}function ce(e,t){if(1&e&&(l.gc(0),l.dc(1,"img",69),l.fc()),2&e){const e=l.xc(3);l.Pb(1),l.Dc("src",e.formfield.value,l.Qc)}}function re(e,t){1&e&&(l.gc(0),l.ic(1,"div",70),l.ic(2,"div",3),l.dc(3,"ngx-signature-pad",null,71),l.hc(),l.hc(),l.fc())}function le(e,t){if(1&e&&(l.gc(0),l.Xc(1,ce,2,1,"ng-container",14),l.dc(2,"input",68),l.Xc(3,re,5,0,"ng-container",14),l.fc()),2&e){const e=l.xc(2);l.Pb(1),l.Dc("ngIf",e.formfield.value),l.Pb(1),l.Dc("formControlName",e.formfield.fieldname),l.Pb(1),l.Dc("ngIf",e.display)}}function se(e,t){if(1&e&&(l.ic(0,"small",72),l.Zc(1),l.hc()),2&e){const e=l.xc(2);l.Pb(1),l.bd(" * ",e.formfield.displayname," is Required ")}}function de(e,t){if(1&e&&(l.ic(0,"small",72),l.Zc(1),l.hc()),2&e){const e=l.xc(2);l.Pb(1),l.bd(" * ",e.formfield.displayname," is Invalid Email ")}}function me(e,t){if(1&e){const e=l.jc();l.ic(0,"button",73),l.tc("click",(function(){return l.Oc(e),l.xc(2).clear()})),l.Zc(1," clear "),l.hc()}}function he(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"label",74),l.ic(2,"i",13),l.Zc(3,"cloud_upload"),l.hc(),l.Zc(4),l.hc(),l.ic(5,"input",45,46),l.tc("change",(function(){return l.Oc(e),l.Lc(6).value=""})),l.hc(),l.fc()}if(2&e){const e=l.xc(2);l.Pb(1),l.Fc("for","fileupload_",e.formfield.fieldname,""),l.Pb(3),l.bd(" ",e.getLang("upload","Upload")," "),l.Pb(1),l.Uc("display","none"),l.Fc("id","fileupload_",e.formfield.fieldname,""),l.Dc("uploader",e.customeUploader[e.formfield.fieldname])}}function fe(e,t){if(1&e){const e=l.jc();l.ic(0,"form",1,2),l.tc("ngSubmit",(function(){l.Oc(e);const t=l.xc();return t.onDynamicFormSubmit(t.dynamicForm.value,t.dynamicForm.valid)})),l.ic(2,"div",3),l.ic(3,"div",4),l.ic(4,"label",5),l.Zc(5),l.hc(),l.gc(6,6),l.Xc(7,A,3,1,"ng-container",7),l.Xc(8,N,6,1,"ng-container",7),l.Xc(9,L,3,2,"ng-container",7),l.Xc(10,B,3,2,"ng-container",7),l.Xc(11,X,6,3,"ng-container",7),l.Xc(12,j,6,6,"ng-container",7),l.Xc(13,Z,5,4,"ng-container",7),l.Xc(14,q,6,3,"ng-container",7),l.Xc(15,R,3,1,"ng-container",7),l.Xc(16,H,3,1,"ng-container",7),l.Xc(17,G,3,1,"ng-container",7),l.Xc(18,K,3,1,"ng-container",7),l.Xc(19,J,2,21,"ng-container",7),l.Xc(20,ee,2,3,"ng-container",7),l.Xc(21,te,2,3,"ng-container",7),l.Xc(22,oe,13,11,"ng-container",7),l.Xc(23,ae,17,12,"ng-container",7),l.Xc(24,le,4,3,"ng-container",7),l.ic(25,"div",8),l.Xc(26,se,2,1,"small",9),l.Xc(27,de,2,1,"small",9),l.hc(),l.fc(),l.hc(),l.hc(),l.ic(28,"div",3),l.ic(29,"div",10),l.Xc(30,me,2,0,"button",11),l.ic(31,"button",12),l.ic(32,"i",13),l.Zc(33,"save"),l.hc(),l.Zc(34),l.hc(),l.Xc(35,he,7,6,"ng-container",14),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.xc();l.Dc("formGroup",e.dynamicForm),l.Pb(5),l.bd(" ",e.getLang(e.formfield.fieldname,e.formfield.displayname)," "),l.Pb(1),l.Dc("ngSwitch",e.formfield.fieldtype),l.Pb(1),l.Dc("ngSwitchCase","text"),l.Pb(1),l.Dc("ngSwitchCase","long_text"),l.Pb(1),l.Dc("ngSwitchCase","checkbox"),l.Pb(1),l.Dc("ngSwitchCase","radio"),l.Pb(1),l.Dc("ngSwitchCase","list"),l.Pb(1),l.Dc("ngSwitchCase","datepicker"),l.Pb(1),l.Dc("ngSwitchCase","time_only"),l.Pb(1),l.Dc("ngSwitchCase","multi_selected_list"),l.Pb(1),l.Dc("ngSwitchCase","primaryemail"),l.Pb(1),l.Dc("ngSwitchCase","secondaryemail"),l.Pb(1),l.Dc("ngSwitchCase","mobile"),l.Pb(1),l.Dc("ngSwitchCase","alternatenumber"),l.Pb(1),l.Dc("ngSwitchCase","whatsappnumber"),l.Pb(1),l.Dc("ngSwitchCase","lookup"),l.Pb(1),l.Dc("ngSwitchCase","form"),l.Pb(1),l.Dc("ngSwitchCase","attachment"),l.Pb(1),l.Dc("ngSwitchCase","gallery"),l.Pb(1),l.Dc("ngSwitchCase","signaturepad"),l.Pb(1),l.Dc("hidden",e.dynamicForm.get(l.Hc(27,Y,e.formfield.fieldname)).valid||e.dynamicForm.get(l.Hc(29,Y,e.formfield.fieldname)).pristine&&!e.dynamicSubmitted),l.Pb(1),l.Dc("ngIf",e.dynamicForm.get(l.Hc(31,Y,e.formfield.fieldname)).hasError("required")),l.Pb(1),l.Dc("ngIf",e.dynamicForm.get(l.Hc(33,Y,e.formfield.fieldname)).hasError("email")),l.Pb(3),l.Dc("ngIf","signaturepad"==e.formfield.fieldtype),l.Pb(4),l.bd("",e.getLang("save","Save")," "),l.Pb(1),l.Dc("ngIf","signaturepad"==e.formfield.fieldtype)}}let ue=(()=>{class e extends d.a{constructor(e,t,i,o){super(),this.fb=e,this._route=t,this.cloudinary=i,this.changeDetectorRef=o,this.separateDialCode=!0,this.SearchCountryField=m.e,this.CountryISO=m.a,this.preferredCountries=[m.a.India,m.a.UnitedStates,m.a.UnitedKingdom],this.response=[],this.customeUploader=[],this.maxFileSize=5242880,this.formImageArray=[],this.childSubmitData=new l.r,this.config={minWidth:1,maxWidth:10,penColor:"blue"},this.display=!1}ngOnInit(){const e=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return Object(c.a)(this,void 0,void 0,(function*(){try{yield e.ngOnInit.call(this),yield this.makeForm(),yield this.fillValue(),yield this.imageConfigration()}catch(t){}finally{const e=(new Date).getFullYear();this.minDate=new Date(e-100,0,1),this.maxDate=new Date(e+100,11,31)}}))}ngAfterViewInit(){"signaturepad"==this.formfield.fieldtype&&setTimeout(()=>{this.display=!0,this.changeDetectorRef.detectChanges()},1e3)}makeForm(){return Object(c.a)(this,void 0,void 0,(function*(){const e={};e[this.formfield.fieldname]="checkbox"==this.formfield.fieldtype?new a.f([]):"readonly"==this.formfield.fieldtype?new a.f(this.formfield.defaultvalue):"primaryemail"==this.formfield.fieldtype||"secondaryemail"==this.formfield.fieldtype?new a.f(null,a.w.compose("yes"==this.formfield.required?[a.w.required,s.a.email]:[s.a.email])):this.formfield.required?new a.f(null,a.w.compose([a.w.required])):new a.f(null),this.dynamicForm=this.fb.group(e)}))}fillValue(){return Object(c.a)(this,void 0,void 0,(function*(){this.formfielValue&&this.formfielValue.property[this.formfield.fieldname]&&this.formfield.fieldname&&this.dynamicForm.controls[this.formfield.fieldname].setValue(this.formfielValue.property[this.formfield.fieldname])}))}onDynamicFormSubmit(e,t){if(this.dynamicSubmitted=!0,!t)return this.showNotification("top","right","Validation failed!!!","danger"),!1;if("attachment"==this.formfield.fieldtype||"gallery"==this.formfield.fieldtype)for(let n in this.formImageArray)n==this.formfield.fieldname&&(this.dynamicForm.value[this.formfield.fieldname]=this.formImageArray[n]);else if("lookup"==this.formfield.fieldtype||"form"==this.formfield.fieldtype)if(this.dynamicForm.value[this.formfield.fieldname]&&this.dynamicForm.value[this.formfield.fieldname].autocomplete_id){var i=this.dynamicForm.value[this.formfield.fieldname].autocomplete_displayname,o=this.dynamicForm.value[this.formfield.fieldname].autocomplete_id;this.dynamicForm.value[this.formfield.fieldname]={},this.dynamicForm.value[this.formfield.fieldname]={autocomplete_displayname:i,autocomplete_id:o}}else this.dynamicForm.value[this.formfield.fieldname]="";else if("signaturepad"==this.formfield.fieldtype)if(this.signaturePadElement.isEmpty())for(let n in this.formImageArray)n==this.formfield.fieldname&&(this.dynamicForm.value[this.formfield.fieldname]=this.formImageArray[n][this.formImageArray[n].length-1].attachment);else this.dynamicForm.value[this.formfield.fieldname]=this.signaturePadElement.toDataURL();this.childSubmitData.emit(this.dynamicForm.value)}imageConfigration(){return Object(c.a)(this,void 0,void 0,(function*(){if("attachment"==this.formfield.fieldtype||"gallery"==this.formfield.fieldtype||"signaturepad"==this.formfield.fieldtype){const e={url:`https://api.cloudinary.com/v1_1/${this._authService.auth_cloud_name?this._authService.auth_cloud_name:this.cloudinary.config().cloud_name}/upload`,autoUpload:!0,isHTML5:!0,removeAfterUpload:!0,headers:[{name:"X-Requested-With",value:"XMLHttpRequest"}]};"gallery"!=this.formfield.fieldtype&&"signaturepad"!=this.formfield.fieldtype||(e.allowedFileType=["image"]);let t=this.formfield.fieldname;this.customeUploader[t]=new h.c(e),this.customeUploader[t].onBuildItemForm=(e,t)=>{t.append("upload_preset",this.cloudinary.config().upload_preset);let i=this.formfield.fieldname;return this.title&&(t.append("context","photo="+this.formfield.fieldname),i=this.formfield.fieldname),t.append("tags",i),t.append("file",e),e.withCredentials=!1,{fileItem:e,form:t}};const i=e=>{if($(".loading_"+this.formfield.fieldname).show(),e&&200==e.status){let t,i=e.data.tags[0];this.formImageArray[i]||(this.formImageArray[i]=[]),this.formfield.value||(this.formfield.value=""),e.file&&(t=e.file.name.substr(e.file.name.lastIndexOf(".")+1)),this.formImageArray[i].push({attachment:e.data.secure_url,extension:t,originalfilename:e.data.original_filename}),this.formfield.value=e.data.secure_url,$("#"+i).val(e.data.secure_url),$(".loading_"+this.formfield.fieldname).hide()}};this.customeUploader[t].onCompleteItem=(e,t,o,n)=>i({file:e.file,status:o,data:JSON.parse(t)}),this.customeUploader[t].onProgressItem=(e,t)=>i({file:e.file,progress:t}),this.customeUploader[t].onWhenAddingFileFailed=(e,t)=>{let i="";switch(t.name){case"fileSize":i='Warning ! \nThe uploaded file "'+e.name+'" is '+this.formatBytes(e.size)+", this exceeds the maximum allowed size of "+this.formatBytes(this.formfield.maxfilesize?this.formfield.maxfilesize:1024*Number(this.maxFileSize)*1024),this.showNotification("top","right",i,"danger");break;default:i="Error trying to upload file "+e.name,this.showNotification("top","right",i,"danger")}}}}))}formatBytes(e,t){if(0==e)return"0 Bytes";const i=t||2,o=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,o)).toFixed(i))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][o]}downloadlink(e){return window.open(e,"_blank"),!0}removeImg(e,t){for(const i in this.dynamicForm.value[t])this.dynamicForm.value[t][i]==e.attachment&&this.dynamicForm.value[t].splice(i,1);for(const i in this.formImageArray)i==t&&this.formImageArray[i].forEach(t=>{t==e&&this.formImageArray[i].splice(t,1)});this.formfield.fieldname==t&&0==this.formImageArray[t].length&&(this.formfield.value="")}clear(){this.signaturePadElement.clear(),this.dynamicForm.value[this.formfield.fieldname]="",this.formfield.value=""}getImage(){console.log(this.signaturePadElement.toDataURL())}changeConfig(){this.config.penColor=Math.random()>=.5?"black":"red",this.config.maxWidth=10*Math.random(),this.config=Object.assign({},this.config)}isInValid(){return!(this.signaturePadElement&&!this.signaturePadElement.isEmpty())}forceReload(){this.signaturePadElement.forceUpdate()}onItemAdded(e){}}return e.\u0275fac=function(t){return new(t||e)(l.cc(a.e),l.cc(o.a),l.cc(f.a),l.cc(l.i))},e.\u0275cmp=l.Wb({type:e,selectors:[["app-document-field-value"]],viewQuery:function(e,t){var i;1&e&&l.dd(V,!0),2&e&&l.Kc(i=l.uc())&&(t.signaturePadElement=i.first)},inputs:{formfield:"formfield",formfielValue:"formfielValue"},outputs:{childSubmitData:"childSubmitData"},features:[l.Mb],decls:1,vars:1,consts:[["novalidate","","class","mb-0",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","",1,"mb-0",3,"formGroup","ngSubmit"],["formtext",""],[1,"row"],[1,"col-sm-12"],[1,"col-form-label"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"text-danger",2,"margin-left","18%",3,"hidden"],["class","error-label",4,"ngIf"],[1,"col-sm-12","text-right"],["class","btn btn-default","type","button",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","ml-2"],[1,"material-icons"],[4,"ngIf"],[1,"example-full-width"],["type","text","matInput","",3,"formControlName"],["type","text","matInput","","value","",3,"formControlName"],["matInput",""],[3,"formControlName"],["class","mat-primary","checkboxPosition","before",3,"value",4,"ngFor","ngForOf"],["checkboxPosition","before",1,"mat-primary",3,"value"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"formControlName"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"example-radio-button",3,"value"],["matInput","","placeholder","Select","aria-label","Select",3,"matAutocomplete","formControlName"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","placeholder","",3,"min","max","matDatepicker","formControlName"],["matSuffix","",3,"for"],[3,"startAt"],["resultPicker",""],["matInput","",3,"owlDateTimeTrigger","owlDateTime","formControlName"],[3,"pickerType"],["dt1",""],["multiple","",3,"formControlName"],["value",""],["type","number","matInput","",3,"formControlName"],[3,"inputId","cssClass","ngClass","preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","phoneValidation","separateDialCode","formControlName"],[3,"formControlName","setting","dbvalue","added"],[1,"form-group"],["src","assets/img/image-loader.GIF",2,"height","100px","width","100px","display","none"],[1,"btn","btn-primary","btn-file"],[1,"upload_button","mb-0",3,"for"],["type","file","ng2FileSelect","","multiple","",3,"id","uploader","change"],["fileInput",""],["type","hidden",3,"id","formControlName"],[1,"mt-2"],["class","upload-tag badge badge-pill d-flex mb-2",4,"ngFor","ngForOf"],[1,"upload-tag","badge","badge-pill","d-flex","mb-2"],[1,"d-flex","flex-grow-1","align-items-center"],[1,"material-icons","d-flex","align-items-center","mr-2"],[3,"click"],[1,"material-icons","d-flex","align-items-center","justify-content-end","ml-2","cursor-pointer",3,"click"],[1,"row","membroz-row"],[1,"col-xl-2","col-lg-2","col-md-3","col-sm-4","col-6","membroz-col","d-flex","flex-grow-1","mb-3"],[1,"btn-file","text-center","add-upload-inner-vcenter"],[1,"upload_button","mb-0","add-upload-main",3,"for"],["xmlns","http://www.w3.org/2000/svg","width","18.77","height","18.77","viewBox","0 0 18.77 18.77"],["transform","translate(-807.636 -666.636)"],["x2","11.858","y2","11.858","transform","translate(817.021 667.636) rotate(45)","fill","none","stroke","#949494","stroke-linecap","round","stroke-width","1"],["x1","11.858","y2","11.858","transform","translate(817.021 667.636) rotate(45)","fill","none","stroke","#949494","stroke-linecap","round","stroke-width","1"],["class","col-xl-2 col-lg-2 col-md-3 col-sm-4 col-6 membroz-col d-flex flex-grow-1 mb-3",4,"ngFor","ngForOf"],[1,"position-relative","d-flex"],[1,"img-fluid","img-add-product",3,"src","click"],[1,"img-add-product-delete"],["mat-raised-button","",1,"btn","btn-just-icon","btn-link",3,"click"],["type","hidden",3,"formControlName"],[2,"height","100px","width","100px",3,"src"],[1,"container"],["testPadTest",""],[1,"error-label"],["type","button",1,"btn","btn-default",3,"click"],[1,"btn","btn-primary","ml-2",3,"for"]],template:function(e,t){1&e&&l.Xc(0,fe,36,35,"form",0),2&e&&l.Dc("ngIf",t.dynamicForm)},directives:[n.l,a.y,a.q,a.i,n.n,n.o,u.b,p.b,a.c,a.p,a.h,m.b,g.c,n.k,g.b,v.b,v.a,b.c,b.a,y.p,w.b,w.d,u.e,w.a,x.b,x.d,x.a,_.a,a.u,m.c,n.j,P.a,h.a,D.a,M],encapsulation:2}),e})();var pe=i("jhN1");let ge=(()=>{class e{constructor(e){this.sanitized=e}transform(e){return this.sanitized.bypassSecurityTrustHtml(e)}}return e.\u0275fac=function(t){return new(t||e)(l.cc(pe.b))},e.\u0275pipe=l.bc({name:"safeHtml",type:e,pure:!0}),e})();function ve(e,t){1&e&&(l.ic(0,"div",27),l.Zc(1,"Loading\u2026"),l.hc())}function be(e,t){if(1&e){const e=l.jc();l.ic(0,"app-document-field-value",28),l.tc("childSubmitData",(function(t){return l.Oc(e),l.xc().getSubmittedData(t)})),l.hc()}if(2&e){const e=l.xc();l.Dc("formfield",e.selectedField)("formfielValue",e.tempSlectedValue)}}let ye=(()=>{class e extends r.a{constructor(e,t){super(),this._route=e,this.elementRef=t,this.formFieldVisibile=!1,this.disableSubmitBtn=!1,this.formfields=[],this.handleAnchorClick=e=>{e.preventDefault();const t=e.target;this.formFieldVisibile=!1,setTimeout(()=>{this.selectedField=this.getformfieldObj(t.id),this.selectedField&&($("#myModalFormfieldPopup").click(),this.formFieldVisibile=!0)})},this._route.params.forEach(e=>{this.bindId=e.id,this._formName=this.bindId})}ngOnInit(){const e=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return Object(c.a)(this,void 0,void 0,(function*(){try{yield e.ngOnInit.call(this),yield this.initializeVariables(),yield this.getformFields(),yield this.getLoadFormdatas(),yield this.getLoadForm()}catch(t){console.error(t)}}))}initializeVariables(){return Object(c.a)(this,void 0,void 0,(function*(){this.selectedField={},this.tempSlectedValue={},this.formFieldVisibile=!1,this.disableSubmitBtn=!1,this.formfields=[],this.doctemplate={}}))}ngAfterViewChecked(){this.anchors=this.elementRef.nativeElement.querySelectorAll("a"),this.anchors.forEach(e=>{e.addEventListener("click",this.handleAnchorClick)})}getformFields(){return Object(c.a)(this,void 0,void 0,(function*(){let e={search:[]};return e.search.push({searchfield:"formname",searchvalue:this.formObj.formname,criteria:"eq"}),e.search.push({searchfield:"status",searchvalue:"active",criteria:"eq"}),this._commonService.commonServiceByUrlMethodDataAsync("formfields/filter","POST",e).then(e=>{if(e)return this.formfields=[],this.formfields=e,this.tempSlectedValue={},this.tempSlectedValue.property={},void this.formfields.forEach(e=>{this.tempSlectedValue.property[e.fieldname]=""})},e=>{console.error(e)})}))}getLoadFormdatas(){return Object(c.a)(this,void 0,void 0,(function*(){let e={search:[]};return e.search.push({searchfield:"formid",searchvalue:this.formObj._id,criteria:"eq",datatype:"ObjectId"}),e.search.push({searchfield:"status",searchvalue:"active",criteria:"eq"}),this._commonService.commonServiceByUrlMethodDataAsync("formdatas/filter","POST",e).then(e=>{e&&e&&e[0]&&(this.tempSlectedValue.addedby=e[0].addedby,this.tempSlectedValue.branchid=e[0].branchid,this.tempSlectedValue.createdAt=e[0].createdAt,this.tempSlectedValue.formid=e[0].formid,this.tempSlectedValue.status=e[0].status,this.tempSlectedValue.updatedAt=e[0].updatedAt,this.tempSlectedValue._id=e[0]._id,this.tempSlectedValue&&this.tempSlectedValue.property&&this.formfields&&this.formfields.length>0&&this.formfields.forEach(t=>{t&&e[0].property[t.fieldname]&&(t.value=e[0].property[t.fieldname],this.tempSlectedValue.property[t.fieldname]=e[0].property[t.fieldname])}))},e=>{console.error(e)})}))}getLoadForm(){return Object(c.a)(this,void 0,void 0,(function*(){let e={search:[]};return e.search.push({searchfield:"formname",searchvalue:this.formObj.formname,criteria:"eq"}),e.search.push({searchfield:"status",searchvalue:"active",criteria:"eq"}),this._commonService.commonServiceByUrlMethodDataAsync("forms/filter","POST",e).then(e=>{if(e&&e&&e[0]&&e[0].doctemplate){this.doctemplate=e[0].doctemplate;var t=this;this.doctemplate.replace(/\[\((\w+)+\.?(\w+)\.?(\w+)\)]/gm,(function(e,i){var o=e.replace("[(","");o=o.replace(")]",""),t._loginUser&&t._loginUser[o]&&(t.doctemplate=t.doctemplate.replace("$[("+o+")]",`<span style='background-color: yellow'>${t._loginUser[o]}</span>`))}));var i=this;this.doctemplate.replace(/\[{(\w+)+\.?(\w+)\.?(\w+)\}]/gm,(function(e,t){var o,n=e.replace("[{","");n=n.replace("}]","");var a=i.getformfieldObj(n);if(a){var c="";if("text"==a.fieldtype)c="<input type='text' id='"+n+"' value='"+(r=a&&a.value?a.value:"")+"'>";else if("checkbox"==a.fieldtype){var r=a&&a.value?a.value:"";a.lookupdata&&a.lookupdata.length>0&&a.lookupdata.forEach(e=>{var t="";r&&r.length>0&&r.find(t=>t==e.key)&&(t='checked="checked"'),c+=" <input type='checkbox' id='"+n+"' "+t+">"})}else c="datepicker"==a.fieldtype?"<input type='date' id='"+n+"' value='"+i.convertDate(r=a&&a.value?a.value:"")+"'>":"lookup"==a.fieldtype||"form"==a.fieldtype?"<input type='text' id='"+n+"' value='"+(r=a&&a.value&&a.value.autocomplete_displayname?a.value.autocomplete_displayname:a&&a.value?a.value:a.displayname)+"'>":"signaturepad"==a.fieldtype?"<img id='"+n+"' src='"+(r=a&&a.value?a.value:"")+"' style='height: 100px; width: 100px'>":"<input type='text' id='"+n+"' value='"+(r=a&&a.value?a.value:"")+"'>";o=`<a id="${n}">${c}</a>`}o&&(i.doctemplate=i.doctemplate.replace("$[{"+n+"}]",o))}))}},e=>{console.error(e)})}))}convertDate(e){function t(e){return e<10?"0"+e:e}var i=new Date(e);return[i.getFullYear(),t(i.getMonth()+1),t(i.getDate())].join("-")}getSubmittedData(e){if(e){this.tempSlectedValue&&this.tempSlectedValue.property&&void 0!==this.tempSlectedValue.property[this.selectedField.fieldname]&&(this.tempSlectedValue.property[this.selectedField.fieldname]=e[this.selectedField.fieldname]);var t=this.formfields.find(e=>e._id==this.selectedField._id);t&&(t.value=e[this.selectedField.fieldname]),$(".close").click(),this.getLoadForm()}}getformfieldObj(e){return this.formfields.find(t=>t._id==e)}submit(){var e=!1;this.formfields&&this.formfields.length>0&&this.formfields.forEach(t=>{t.required&&(this.tempSlectedValue&&this.tempSlectedValue.property&&""==this.tempSlectedValue.property[this.selectedField.fieldname]||null==this.tempSlectedValue.property[this.selectedField.fieldname])&&(e=!0)}),this.disableSubmitBtn=!0,setTimeout(()=>{if(!e){if(this.tempSlectedValue&&this.tempSlectedValue._id)return this._commonService.commonServiceByUrlMethodDataAsync(t="formdatas/"+this.tempSlectedValue._id,i="PUT",this.tempSlectedValue).then(e=>{e&&(this.disableSubmitBtn=!1,this.showNotification("top","right","Document has been updated Successfully!!!","success"),this.ngOnInit())},e=>{console.error(e),this.disableSubmitBtn=!1});var t="formdatas",i="POST";return this.tempSlectedValue.formid="602a087c99e17f373c5f4e7c",this._commonService.commonServiceByUrlMethodDataAsync(t,i,this.tempSlectedValue).then(e=>{e&&(this.disableSubmitBtn=!1,this.showNotification("top","right","Document has been updated Successfully!!!","success"),this.ngOnInit())},e=>{console.error(e),this.disableSubmitBtn=!1})}this.disableSubmitBtn=!1,this.showNotification("top","right","Validation Failed !!!","danger")})}}return e.\u0275fac=function(t){return new(t||e)(l.cc(o.a),l.cc(l.o))},e.\u0275cmp=l.Wb({type:e,selectors:[["app-document-module"]],features:[l.Mb],decls:43,vars:5,consts:[["class","loading",4,"ngIf"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[3,"innerHTML"],[1,"footer","fixed-bottom","bg-white","shadow-top"],[1,"offset-xl-2","col-xl-8"],[1,"col-sm-12","text-right"],["type","button",1,"btn","btn-default"],["type","submit",1,"btn","btn-primary","ml-2",3,"click"],["id","myModalFormfieldPopup","type","button","data-toggle","modal","data-backdrop","static","data-keyboard","false","data-target","#myModalFormfield",1,"btn","btn-info","btn-lg","d-none"],["id","myModalFormfield","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[3,"formfield","formfielValue","childSubmitData",4,"ngIf"],[1,"modal-footer"],[1,"loading"],[3,"formfield","formfielValue","childSubmitData"]],template:function(e,t){1&e&&(l.Xc(0,ve,2,0,"div",0),l.ic(1,"div",1),l.ic(2,"div",2),l.ic(3,"div",3),l.ic(4,"div",4),l.ic(5,"div",5),l.ic(6,"div",6),l.ic(7,"div",7),l.ic(8,"i",8),l.Zc(9,"\ue894"),l.hc(),l.hc(),l.ic(10,"h4",9),l.Zc(11,"Document form"),l.hc(),l.hc(),l.ic(12,"div",10),l.ic(13,"div",3),l.dc(14,"div",11),l.yc(15,"safeHtml"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(16,"footer",12),l.ic(17,"div",2),l.ic(18,"div",3),l.ic(19,"div",13),l.ic(20,"div",3),l.ic(21,"div",14),l.ic(22,"button",15),l.ic(23,"i",8),l.Zc(24,"close"),l.hc(),l.Zc(25," Cancel "),l.hc(),l.ic(26,"button",16),l.tc("click",(function(){return t.submit()})),l.ic(27,"i",8),l.Zc(28,"save"),l.hc(),l.Zc(29," Save "),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(30,"button",17),l.Zc(31,"Open Modal"),l.hc(),l.ic(32,"div",18),l.ic(33,"div",19),l.ic(34,"div",20),l.ic(35,"div",21),l.ic(36,"h4",22),l.Zc(37,"Fields"),l.hc(),l.ic(38,"button",23),l.Zc(39,"\xd7"),l.hc(),l.hc(),l.ic(40,"div",24),l.Xc(41,be,1,2,"app-document-field-value",25),l.hc(),l.dc(42,"div",26),l.hc(),l.hc(),l.hc()),2&e&&(l.Dc("ngIf",t.disableSubmitBtn),l.Pb(14),l.Dc("innerHTML",l.zc(15,3,t.doctemplate),l.Pc),l.Pb(27),l.Dc("ngIf",t.formFieldVisibile))},directives:[n.l,ue],pipes:[ge],styles:['.loading[_ngcontent-%COMP%]{z-index:999;height:2em;width:2em;overflow:show;margin:auto;bottom:0;right:0}.loading[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]:before{position:fixed;top:0;left:0}.loading[_ngcontent-%COMP%]:before{content:"";display:block;width:100%;height:100%;background:radial-gradient(rgba(20,20,20,.8),rgba(0,0,0,.8));background:-webkit-radial-gradient(rgba(20,20,20,.8),rgba(0,0,0,.8))}.loading[_ngcontent-%COMP%]:not(:required){font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.loading[_ngcontent-%COMP%]:not(:required):after{content:"";display:block;font-size:10px;width:1em;height:1em;margin-top:-.5em;-webkit-animation:spinner 1.5s linear infinite;animation:spinner 1.5s linear infinite;border-radius:.5em;box-shadow:1.5em 0 0 0 hsla(0,0%,100%,.75),1.1em 1.1em 0 0 hsla(0,0%,100%,.75),0 1.5em 0 0 hsla(0,0%,100%,.75),-1.1em 1.1em 0 0 hsla(0,0%,100%,.75),-1.5em 0 0 0 hsla(0,0%,100%,.75),-1.1em -1.1em 0 0 hsla(0,0%,100%,.75),0 -1.5em 0 0 hsla(0,0%,100%,.75),1.1em -1.1em 0 0 hsla(0,0%,100%,.75)}@-webkit-keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}']}),e})();const we=[{path:"",component:ye},{path:"form",component:ye},{path:"form/:id",component:ye}];var xe=i("Ebo4"),_e=i("kJ4b"),Pe=i("GU7I"),De=i("Vx+w");const Se={Cloudinary:Pe.Cloudinary};let Ce=(()=>{class e{}return e.\u0275mod=l.ac({type:e}),e.\u0275inj=l.Zb({factory:function(t){return new(t||e)},imports:[[n.c,o.d.forChild(we),a.k,_e.a,a.v,x.c,x.e,m.d,xe.a,f.b.forRoot(Se,De.a),h.b,O]]}),e})()}}]);